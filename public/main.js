/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./js/main.js */ \"./src/js/main.js\");\n/* harmony import */ var _scss_main_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scss/main.scss */ \"./src/scss/main.scss\");\n/* harmony import */ var _scss_main_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_scss_main_scss__WEBPACK_IMPORTED_MODULE_1__);\n/**\r\n * JS файлы\r\n */\r\n\r\n\r\n/**\r\n * SCSS файлы\r\n */\r\n\n\n//# sourceURL=webpack:///./src/app.js?");

/***/ }),

/***/ "./src/js/client.js":
/*!**************************!*\
  !*** ./src/js/client.js ***!
  \**************************/
/*! exports provided: Client */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Client\", function() { return Client; });\n/* harmony import */ var _tdweb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tdweb.js */ \"./src/js/tdweb.js\");\n/* harmony import */ var _tdweb_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tdweb_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"./src/js/config.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./src/js/utils.js\");\n\r\n\r\n\r\n\r\nclass Client {\r\n\t\t\tconstructor() {\r\n\t\t\t\tthis.client = new _tdweb_js__WEBPACK_IMPORTED_MODULE_0___default.a(_config__WEBPACK_IMPORTED_MODULE_1__[\"options\"]);\r\n\t\t\t\tthis.config = _config__WEBPACK_IMPORTED_MODULE_1__[\"apiConfig\"];\r\n\t\t\t}\r\n\r\n\t\t\tsend(request) {\r\n\t\t\t\treturn this.client.send(request);\r\n\t\t\t}\r\n\r\n\t\t\tcheckAuthenticationCode(code) {\r\n\t\t\t\treturn this.send({\r\n\t\t\t\t\t'@type': 'checkAuthenticationCode',\r\n\t\t\t\t\tcode: code,\r\n\t\t\t\t\tfirst_name: 'A',\r\n\t\t\t\t\tlast_name: 'B'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tcheckDatabaseEncryptionKey() {\r\n\t\t\t\tthis.send({\r\n\t\t\t\t\t'@type': 'checkDatabaseEncryptionKey'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tsetTdlibParameters() {\r\n\t\t\t\tthis.send({\r\n\t\t\t\t\t'@type': 'setTdlibParameters',\r\n\t\t\t\t\tparameters: {\r\n\t\t\t\t\t\t'@type': 'tdParameters',\r\n\t\t\t\t\t\tuse_test_dc: false,\r\n\t\t\t\t\t\tapi_id: _config__WEBPACK_IMPORTED_MODULE_1__[\"apiConfig\"].id,\r\n\t\t\t\t\t\tapi_hash: _config__WEBPACK_IMPORTED_MODULE_1__[\"apiConfig\"].hash,\r\n\t\t\t\t\t\tsystem_language_code: navigator.language || 'en',\r\n\t\t\t\t\t\tdevice_model: Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getBrowser\"])(),\r\n\t\t\t\t\t\tsystem_version: Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getOSName\"])(),\r\n\t\t\t\t\t\tapplication_version: '1.0.0',\r\n\t\t\t\t\t\tuse_secret_chats: false,\r\n\t\t\t\t\t\tuse_message_database: true,\r\n\t\t\t\t\t\tuse_file_database: false,\r\n\t\t\t\t\t\tdatabase_directory: '/db',\r\n\t\t\t\t\t\tfiles_directory: '/',\r\n\t\t\t\t\t\tauthentication_code_type_sms: true\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tsetAuthenticationPhoneNumber(phone) {\r\n\t\t\t\tif (Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"isValidPhoneNumber\"])(phone)) {\r\n\t\t\t\t\treturn this.send({\r\n\t\t\t\t\t\t'@type': 'setAuthenticationPhoneNumber',\r\n\t\t\t\t\t\tphone_number: phone\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error(`Telephone number ${phone} is not valid`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\n\n//# sourceURL=webpack:///./src/js/client.js?");

/***/ }),

/***/ "./src/js/config.js":
/*!**************************!*\
  !*** ./src/js/config.js ***!
  \**************************/
/*! exports provided: apiConfig, parameters, verbosity, jsVerbosity, useTestDC, readOnly, fastUpdating, useDatabase, mode, options */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"apiConfig\", function() { return apiConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parameters\", function() { return parameters; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"verbosity\", function() { return verbosity; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"jsVerbosity\", function() { return jsVerbosity; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useTestDC\", function() { return useTestDC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"readOnly\", function() { return readOnly; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fastUpdating\", function() { return fastUpdating; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useDatabase\", function() { return useDatabase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mode\", function() { return mode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"options\", function() { return options; });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"./src/js/constants.js\");\n\r\n\r\nconst apiConfig = {\r\n\tid: 1193467,\r\n\thash: '3a09d4c0350101454cfac7d7e7621773'\r\n};\r\n\r\nconst parameters = {\r\n\tuseTestDC: false,\r\n\treadOnly: false,\r\n\tverbosity: 1,\r\n\tjsVerbosity: 3,\r\n\tfastUpdating: true,\r\n\tuseDatabase: false,\r\n\tmode: 'wasm'\r\n};\r\n\r\nconst { verbosity, jsVerbosity, useTestDC, readOnly, fastUpdating, useDatabase, mode } = parameters;\r\n\r\nconst options = {\r\n\tlogVerbosityLevel: verbosity,\r\n\tjsLogVerbosityLevel: jsVerbosity,\r\n\tmode: mode,\r\n\tprefix: useTestDC ? 'tdlib_test' : 'tdlib',\r\n\treadOnly: readOnly,\r\n\tisBackground: false,\r\n\tuseDatabase: useDatabase,\r\n\twasmUrl: `${_constants_js__WEBPACK_IMPORTED_MODULE_0__[\"WASM_FILE_NAME\"]}?_sw-precache=${_constants_js__WEBPACK_IMPORTED_MODULE_0__[\"WASM_FILE_HASH\"]}`\r\n};\n\n//# sourceURL=webpack:///./src/js/config.js?");

/***/ }),

/***/ "./src/js/confirm-code-page.js":
/*!*************************************!*\
  !*** ./src/js/confirm-code-page.js ***!
  \*************************************/
/*! exports provided: ConfirmCodePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfirmCodePage\", function() { return ConfirmCodePage; });\nclass ConfirmCodePage {\r\n\r\n  init(container) {\r\n    this.container = container;\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this.container.innerHTML = ConfirmCodePage.markup();\r\n    const codeInput = this.container.querySelector('.code-input');\r\n    console.log('code render');\r\n    codeInput.addEventListener('input', (e) => {\r\n      const code = e.target.value;\r\n      if (code.length == 5) {\r\n        e.target.blur();\r\n        client\r\n\t\t\t\t\t.checkAuthenticationCode(code)\r\n\t\t\t\t\t.then((result) => {\r\n            console.log('receive result', result);\r\n            codeInput.parentElement.classList.remove('error');\r\n            codeInput.parentElement.querySelector('.placeholder').textContent = 'Code';\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n            console.error('catch error', error);\r\n            codeInput.parentElement.classList.add('error');\r\n            codeInput.parentElement.querySelector('.placeholder').textContent = 'Invalid Code';\r\n\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t});\r\n      }\r\n    })\r\n  }\r\n\r\n  static markup() {\r\n    return `\r\n      <section class=\"code-section\">\r\n        <div class=\"code-container\">\r\n          <img class=\"code-monkey\" src=\"./assets/img/Login_6_Code@2x_Monkey.png\" alt=\"Telegram\">\r\n          <h2 class=\"code-telephone\">\r\n            <span class=\"number\">${(client ? client.inputPhone : \"+9 999 999 99 99\")}</span>\r\n            <img class=\"icon\" src=\"./assets/img/edit_svg.svg\" alt=\"\">\r\n          </h2>\r\n          <p class=\"login-text\">We have sent you an SMS <br> with the code</p>\r\n          <div class=\"tl-input code-input empty\">\r\n            <input type=\"number\">\r\n            <label class=\"placeholder\">Code</label>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    `;\r\n  }\r\n\r\n  constructor(container) {\r\n    this.init(container);\r\n  }\r\n}\n\n//# sourceURL=webpack:///./src/js/confirm-code-page.js?");

/***/ }),

/***/ "./src/js/constants.js":
/*!*****************************!*\
  !*** ./src/js/constants.js ***!
  \*****************************/
/*! exports provided: ANIMATION_FRAME_DURATION_MS, ANIMATION_DURATION_100MS, ANIMATION_DURATION_200MS, ANIMATION_DURATION_300MS, ANIMATION_DURATION_500MS, APP_NAME, CHAT_SLICE_LIMIT, EMOJI_PICKER_TIMEOUT_MS, FILE_PRIORITY, IV_LOCATION_HEIGHT, IV_LOCATION_WIDTH, IV_PHOTO_SIZE, IV_PHOTO_DISPLAY_SIZE, LOCATION_HEIGHT, LOCATION_SCALE, LOCATION_WIDTH, LOCATION_ZOOM, MAX_SNACK, MEDIA_SLICE_LIMIT, MESSAGE_SLICE_LIMIT, MESSAGE_SPLIT_MAX_TIME_S, MUTED_VALUE_MAX, MUTED_VALUE_MIN, NOTIFICATION_AUDIO_DELAY_MS, NOTIFICATION_AUTO_HIDE_DURATION_MS, NOTIFICATION_DEBOUNCE_DELAY_MS, OPTIMIZATIONS_FIRST_START, PHOTO_BIG_SIZE, PHOTO_DISPLAY_SIZE, PHOTO_DISPLAY_SMALL_SIZE, PHOTO_DISPLAY_EXTRA_SMALL_SIZE, PHOTO_SIZE, PHOTO_THUMBNAIL_SIZE, PLAYER_VOLUME_NORMAL, PLAYER_STARTTIME, PLAYER_PLAYBACKRATE_NORMAL, PLAYER_PLAYBACKRATE_FAST, PLAYER_PROGRESS_TIMEOUT_MS, POLL_QUESTION_LENGTH, POLL_QUESTION_HINT_LENGTH, POLL_QUESTION_MAX_LENGTH, POLL_OPTION_LENGTH, POLL_OPTION_HINT_LENGTH, POLL_OPTION_MAX_LENGTH, POLL_OPTIONS_MAX_COUNT, PRELOAD_AUDIO_SIZE, PRELOAD_ANIMATION_SIZE, PRELOAD_DOCUMENT_SIZE, PRELOAD_STICKER_SIZE, PRELOAD_VOICENOTE_SIZE, PRELOAD_VIDEO_SIZE, PRELOAD_VIDEONOTE_SIZE, PROFILE_PHOTO_BIG_SIZE, PROFILE_PHOTO_SMALL_SIZE, SCROLL_PRECISION, SERVICE_NOTIFICATIONS_USER_ID, SHARED_MESSAGE_SLICE_LIMIT, STICKER_DISPLAY_SIZE, STICKER_HINT_DISPLAY_SIZE, STICKER_PREVIEW_DISPLAY_SIZE, STICKER_SMALL_DISPLAY_SIZE, THUMBNAIL_BLURRED_SIZE, THUMBNAIL_BLURRED_SIZE_90, THUMBNAIL_PRIORITY, TYPING_INPUT_INTERVAL_S, TYPING_OUTPUT_INTERVAL_S, VERBOSITY_JS_MAX, VERBOSITY_JS_MIN, VERBOSITY_MAX, VERBOSITY_MIN, USERNAME_LENGTH_MIN, WASM_FILE_NAME, WASM_FILE_HASH */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANIMATION_FRAME_DURATION_MS\", function() { return ANIMATION_FRAME_DURATION_MS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANIMATION_DURATION_100MS\", function() { return ANIMATION_DURATION_100MS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANIMATION_DURATION_200MS\", function() { return ANIMATION_DURATION_200MS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANIMATION_DURATION_300MS\", function() { return ANIMATION_DURATION_300MS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANIMATION_DURATION_500MS\", function() { return ANIMATION_DURATION_500MS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"APP_NAME\", function() { return APP_NAME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CHAT_SLICE_LIMIT\", function() { return CHAT_SLICE_LIMIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EMOJI_PICKER_TIMEOUT_MS\", function() { return EMOJI_PICKER_TIMEOUT_MS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FILE_PRIORITY\", function() { return FILE_PRIORITY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IV_LOCATION_HEIGHT\", function() { return IV_LOCATION_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IV_LOCATION_WIDTH\", function() { return IV_LOCATION_WIDTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IV_PHOTO_SIZE\", function() { return IV_PHOTO_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IV_PHOTO_DISPLAY_SIZE\", function() { return IV_PHOTO_DISPLAY_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOCATION_HEIGHT\", function() { return LOCATION_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOCATION_SCALE\", function() { return LOCATION_SCALE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOCATION_WIDTH\", function() { return LOCATION_WIDTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOCATION_ZOOM\", function() { return LOCATION_ZOOM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAX_SNACK\", function() { return MAX_SNACK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MEDIA_SLICE_LIMIT\", function() { return MEDIA_SLICE_LIMIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MESSAGE_SLICE_LIMIT\", function() { return MESSAGE_SLICE_LIMIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MESSAGE_SPLIT_MAX_TIME_S\", function() { return MESSAGE_SPLIT_MAX_TIME_S; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MUTED_VALUE_MAX\", function() { return MUTED_VALUE_MAX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MUTED_VALUE_MIN\", function() { return MUTED_VALUE_MIN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NOTIFICATION_AUDIO_DELAY_MS\", function() { return NOTIFICATION_AUDIO_DELAY_MS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NOTIFICATION_AUTO_HIDE_DURATION_MS\", function() { return NOTIFICATION_AUTO_HIDE_DURATION_MS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NOTIFICATION_DEBOUNCE_DELAY_MS\", function() { return NOTIFICATION_DEBOUNCE_DELAY_MS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OPTIMIZATIONS_FIRST_START\", function() { return OPTIMIZATIONS_FIRST_START; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PHOTO_BIG_SIZE\", function() { return PHOTO_BIG_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PHOTO_DISPLAY_SIZE\", function() { return PHOTO_DISPLAY_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PHOTO_DISPLAY_SMALL_SIZE\", function() { return PHOTO_DISPLAY_SMALL_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PHOTO_DISPLAY_EXTRA_SMALL_SIZE\", function() { return PHOTO_DISPLAY_EXTRA_SMALL_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PHOTO_SIZE\", function() { return PHOTO_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PHOTO_THUMBNAIL_SIZE\", function() { return PHOTO_THUMBNAIL_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PLAYER_VOLUME_NORMAL\", function() { return PLAYER_VOLUME_NORMAL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PLAYER_STARTTIME\", function() { return PLAYER_STARTTIME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PLAYER_PLAYBACKRATE_NORMAL\", function() { return PLAYER_PLAYBACKRATE_NORMAL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PLAYER_PLAYBACKRATE_FAST\", function() { return PLAYER_PLAYBACKRATE_FAST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PLAYER_PROGRESS_TIMEOUT_MS\", function() { return PLAYER_PROGRESS_TIMEOUT_MS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POLL_QUESTION_LENGTH\", function() { return POLL_QUESTION_LENGTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POLL_QUESTION_HINT_LENGTH\", function() { return POLL_QUESTION_HINT_LENGTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POLL_QUESTION_MAX_LENGTH\", function() { return POLL_QUESTION_MAX_LENGTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POLL_OPTION_LENGTH\", function() { return POLL_OPTION_LENGTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POLL_OPTION_HINT_LENGTH\", function() { return POLL_OPTION_HINT_LENGTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POLL_OPTION_MAX_LENGTH\", function() { return POLL_OPTION_MAX_LENGTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POLL_OPTIONS_MAX_COUNT\", function() { return POLL_OPTIONS_MAX_COUNT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRELOAD_AUDIO_SIZE\", function() { return PRELOAD_AUDIO_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRELOAD_ANIMATION_SIZE\", function() { return PRELOAD_ANIMATION_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRELOAD_DOCUMENT_SIZE\", function() { return PRELOAD_DOCUMENT_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRELOAD_STICKER_SIZE\", function() { return PRELOAD_STICKER_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRELOAD_VOICENOTE_SIZE\", function() { return PRELOAD_VOICENOTE_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRELOAD_VIDEO_SIZE\", function() { return PRELOAD_VIDEO_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRELOAD_VIDEONOTE_SIZE\", function() { return PRELOAD_VIDEONOTE_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PROFILE_PHOTO_BIG_SIZE\", function() { return PROFILE_PHOTO_BIG_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PROFILE_PHOTO_SMALL_SIZE\", function() { return PROFILE_PHOTO_SMALL_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SCROLL_PRECISION\", function() { return SCROLL_PRECISION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SERVICE_NOTIFICATIONS_USER_ID\", function() { return SERVICE_NOTIFICATIONS_USER_ID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SHARED_MESSAGE_SLICE_LIMIT\", function() { return SHARED_MESSAGE_SLICE_LIMIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"STICKER_DISPLAY_SIZE\", function() { return STICKER_DISPLAY_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"STICKER_HINT_DISPLAY_SIZE\", function() { return STICKER_HINT_DISPLAY_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"STICKER_PREVIEW_DISPLAY_SIZE\", function() { return STICKER_PREVIEW_DISPLAY_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"STICKER_SMALL_DISPLAY_SIZE\", function() { return STICKER_SMALL_DISPLAY_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"THUMBNAIL_BLURRED_SIZE\", function() { return THUMBNAIL_BLURRED_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"THUMBNAIL_BLURRED_SIZE_90\", function() { return THUMBNAIL_BLURRED_SIZE_90; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"THUMBNAIL_PRIORITY\", function() { return THUMBNAIL_PRIORITY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TYPING_INPUT_INTERVAL_S\", function() { return TYPING_INPUT_INTERVAL_S; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TYPING_OUTPUT_INTERVAL_S\", function() { return TYPING_OUTPUT_INTERVAL_S; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VERBOSITY_JS_MAX\", function() { return VERBOSITY_JS_MAX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VERBOSITY_JS_MIN\", function() { return VERBOSITY_JS_MIN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VERBOSITY_MAX\", function() { return VERBOSITY_MAX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VERBOSITY_MIN\", function() { return VERBOSITY_MIN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"USERNAME_LENGTH_MIN\", function() { return USERNAME_LENGTH_MIN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WASM_FILE_NAME\", function() { return WASM_FILE_NAME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WASM_FILE_HASH\", function() { return WASM_FILE_HASH; });\nconst ANIMATION_FRAME_DURATION_MS = 40;\r\nconst ANIMATION_DURATION_100MS = 100;\r\nconst ANIMATION_DURATION_200MS = 200;\r\nconst ANIMATION_DURATION_300MS = 300;\r\nconst ANIMATION_DURATION_500MS = 500;\r\nconst APP_NAME = 'Telegram Web';\r\nconst CHAT_SLICE_LIMIT = 25;\r\nconst EMOJI_PICKER_TIMEOUT_MS = 100;\r\nconst FILE_PRIORITY = 1;\r\nconst IV_LOCATION_HEIGHT = 300;\r\nconst IV_LOCATION_WIDTH = 600;\r\nconst IV_PHOTO_SIZE = 800;\r\nconst IV_PHOTO_DISPLAY_SIZE = 600;\r\nconst LOCATION_HEIGHT = 150;\r\nconst LOCATION_SCALE = 2;\r\nconst LOCATION_WIDTH = 300;\r\nconst LOCATION_ZOOM = 16;\r\nconst MAX_SNACK = 10;\r\nconst MEDIA_SLICE_LIMIT = 20;\r\nconst MESSAGE_SLICE_LIMIT = 30;\r\nconst MESSAGE_SPLIT_MAX_TIME_S = 600;\r\nconst MUTED_VALUE_MAX = 2147483647; // int32.max = 2^32 - 1\r\nconst MUTED_VALUE_MIN = 0;\r\nconst NOTIFICATION_AUDIO_DELAY_MS = 5000;\r\nconst NOTIFICATION_AUTO_HIDE_DURATION_MS = 5000;\r\nconst NOTIFICATION_DEBOUNCE_DELAY_MS = 500;\r\nconst OPTIMIZATIONS_FIRST_START = true;\r\nconst PHOTO_BIG_SIZE = 1280;\r\nconst PHOTO_DISPLAY_SIZE = 260;\r\nconst PHOTO_DISPLAY_SMALL_SIZE = 65;\r\nconst PHOTO_DISPLAY_EXTRA_SMALL_SIZE = 40;\r\nconst PHOTO_SIZE = 320;\r\nconst PHOTO_THUMBNAIL_SIZE = 90;\r\nconst PLAYER_VOLUME_NORMAL = 0.25;\r\nconst PLAYER_STARTTIME = 0.0;\r\nconst PLAYER_PLAYBACKRATE_NORMAL = 1.0;\r\nconst PLAYER_PLAYBACKRATE_FAST = 1.75;\r\nconst PLAYER_PROGRESS_TIMEOUT_MS = 250;\r\nconst POLL_QUESTION_LENGTH = 255;\r\nconst POLL_QUESTION_HINT_LENGTH = POLL_QUESTION_LENGTH - 79;\r\nconst POLL_QUESTION_MAX_LENGTH = POLL_QUESTION_LENGTH + 99;\r\nconst POLL_OPTION_LENGTH = 100;\r\nconst POLL_OPTION_HINT_LENGTH = POLL_OPTION_LENGTH - 29;\r\nconst POLL_OPTION_MAX_LENGTH = POLL_OPTION_LENGTH + 99;\r\nconst POLL_OPTIONS_MAX_COUNT = 10;\r\nconst PRELOAD_AUDIO_SIZE = 200 * 1024; //10 * 1024 * 1024;\r\nconst PRELOAD_ANIMATION_SIZE = 200 * 1024; //10 * 1024 * 1024;\r\nconst PRELOAD_DOCUMENT_SIZE = 200 * 1024;\r\nconst PRELOAD_STICKER_SIZE = 10 * 200 * 1024;\r\nconst PRELOAD_VOICENOTE_SIZE = 200 * 1024; //10 * 1024 * 1024;\r\nconst PRELOAD_VIDEO_SIZE = 10 * 1024 * 1024;\r\nconst PRELOAD_VIDEONOTE_SIZE = 200 * 1024; //10 * 1024 * 1024;\r\nconst PROFILE_PHOTO_BIG_SIZE = 640;\r\nconst PROFILE_PHOTO_SMALL_SIZE = 160;\r\nconst SCROLL_PRECISION = 10;\r\nconst SERVICE_NOTIFICATIONS_USER_ID = 777000;\r\nconst SHARED_MESSAGE_SLICE_LIMIT = 30;\r\nconst STICKER_DISPLAY_SIZE = 192;\r\nconst STICKER_HINT_DISPLAY_SIZE = 76;\r\nconst STICKER_PREVIEW_DISPLAY_SIZE = 256;\r\nconst STICKER_SMALL_DISPLAY_SIZE = 64;\r\nconst THUMBNAIL_BLURRED_SIZE = 320;\r\nconst THUMBNAIL_BLURRED_SIZE_90 = 90;\r\nconst THUMBNAIL_PRIORITY = 32;\r\nconst TYPING_INPUT_INTERVAL_S = 8;\r\nconst TYPING_OUTPUT_INTERVAL_S = 8;\r\nconst VERBOSITY_JS_MAX = 20;\r\nconst VERBOSITY_JS_MIN = 0;\r\nconst VERBOSITY_MAX = 20;\r\nconst VERBOSITY_MIN = 0;\r\nconst USERNAME_LENGTH_MIN = 5;\r\nconst WASM_FILE_NAME = 'b4b0d61282108a31908dd6b2dbd7067b.wasm';\r\nconst WASM_FILE_HASH = 'b4b0d61282108a31908dd6b2dbd7067b';\n\n//# sourceURL=webpack:///./src/js/constants.js?");

/***/ }),

/***/ "./src/js/country-list.js":
/*!********************************!*\
  !*** ./src/js/country-list.js ***!
  \********************************/
/*! exports provided: getCountriesList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCountriesList\", function() { return getCountriesList; });\nfunction getCountriesList() {\r\n    return [\r\n        { code: '+7 840', name: 'Абхазия' },\r\n        { code: '+7 940', name: 'Абхазия' },\r\n        { code: '+995 44', name: 'Абхазия' },\r\n        { code: '+672', name: 'Австралийские Антарктические Территории' },\r\n        { code: '+61', name: 'Австралия' },\r\n        { code: '+43', name: 'Австрия' },\r\n        { code: '+994', name: 'Азербайджан' },\r\n        { code: '+358 18', name: 'Аландские о-ва' },\r\n        { code: '+355', name: 'Албания' },\r\n        { code: '+213', name: 'Алжир' },\r\n        { code: '+1 684', name: 'Американское Самоа' },\r\n        { code: '+1 264', name: 'Ангилья' },\r\n        { code: '+244', name: 'Ангола' },\r\n        { code: '+376', name: 'Андорра' },\r\n        { code: '+1 268', name: 'Антигуа и Барбуда' },\r\n        { code: '+54', name: 'Аргентина' },\r\n        { code: '+374', name: 'Армения' },\r\n        { code: '+297', name: 'Аруба' },\r\n        { code: '+93', name: 'Афганистан' },\r\n        { code: '+1 242', name: 'Багамские о-ва' },\r\n        { code: '+880', name: 'Бангладеш' },\r\n        { code: '+1 246', name: 'Барбадос' },\r\n        { code: '+1 268', name: 'Барбуда' },\r\n        { code: '+973', name: 'Бахрейн' },\r\n        { code: '+375', name: 'Беларусь' },\r\n        { code: '+501', name: 'Белиз' },\r\n        { code: '+32', name: 'Бельгия' },\r\n        { code: '+229', name: 'Бенин' },\r\n        { code: '+1 441', name: 'Бермудские о-ва' },\r\n        { code: '+359', name: 'Болгария' },\r\n        { code: '+591', name: 'Боливия' },\r\n        { code: '+599 7', name: 'Бонэйр, Синт-Эстатиус и Саба' },\r\n        { code: '+387', name: 'Босния и Герцеговина' },\r\n        { code: '+267', name: 'Ботсвана' },\r\n        { code: '+55', name: 'Бразилия' },\r\n        { code: '+246', name: 'Британская территория в Индийском океане' },\r\n        { code: '+673', name: 'Бруней-Даруссалам' },\r\n        { code: '+226', name: 'Буркина-Фасо' },\r\n        { code: '+257', name: 'Бурунди' },\r\n        { code: '+975', name: 'Бутан' },\r\n        { code: '+678', name: 'Вануату' },\r\n        { code: '+39 06 698', name: 'Ватикан' },\r\n        { code: '+379', name: 'Ватикан' },\r\n        { code: '+44', name: 'Великобритания' },\r\n        { code: '+36', name: 'Венгрия' },\r\n        { code: '+58', name: 'Венесуэла' },\r\n        { code: '+1 284', name: 'Виргинские о-ва (Британские)' },\r\n        { code: '+1 340', name: 'Виргинские о-ва (США)' },\r\n        { code: '+670', name: 'Восточный Тимор' },\r\n        { code: '+84', name: 'Вьетнам' },\r\n        { code: '+241', name: 'Габон' },\r\n        { code: '+509', name: 'Гаити' },\r\n        { code: '+592', name: 'Гайана' },\r\n        { code: '+220', name: 'Гамбия' },\r\n        { code: '+233', name: 'Гана' },\r\n        { code: '+590', name: 'Гваделупа' },\r\n        { code: '+502', name: 'Гватемала' },\r\n        { code: '+224', name: 'Гвинея' },\r\n        { code: '+245', name: 'Гвинея-Бисау' },\r\n        { code: '+49', name: 'Германия' },\r\n        { code: '+44', name: 'Гернси' },\r\n        { code: '+350', name: 'Гибралтар' },\r\n        { code: '+504', name: 'Гондурас' },\r\n        { code: '+852', name: 'Гонконг (особый район)' },\r\n        { code: '+1 473', name: 'Гренада' },\r\n        { code: '+299', name: 'Гренландия' },\r\n        { code: '+30', name: 'Греция' },\r\n        { code: '+995', name: 'Грузия' },\r\n        { code: '+1 671', name: 'Гуам' },\r\n        { code: '+45', name: 'Дания' },\r\n        { code: '+44', name: 'Джерси' },\r\n        { code: '+253', name: 'Джибути' },\r\n        { code: '+246', name: 'Диего-Гарсия' },\r\n        { code: '+1 767', name: 'Доминика' },\r\n        { code: '+1 809', name: 'Доминиканская Республика' },\r\n        { code: '+1 829', name: 'Доминиканская Республика' },\r\n        { code: '+1 849', name: 'Доминиканская Республика' },\r\n        { code: '+20', name: 'Египет' },\r\n        { code: '+260', name: 'Замбия' },\r\n        { code: '+255', name: 'Занзибар' },\r\n        { code: '+263', name: 'Зимбабве' },\r\n        { code: '+972', name: 'Израиль' },\r\n        { code: '+91', name: 'Индия' },\r\n        { code: '+62', name: 'Индонезия' },\r\n        { code: '+962', name: 'Иордания' },\r\n        { code: '+964', name: 'Ирак' },\r\n        { code: '+98', name: 'Иран' },\r\n        { code: '+353', name: 'Ирландия' },\r\n        { code: '+354', name: 'Исландия' },\r\n        { code: '+34', name: 'Испания' },\r\n        { code: '+39', name: 'Италия' },\r\n        { code: '+967', name: 'Йемен' },\r\n        { code: '+238', name: 'Кабо-Верде' },\r\n        { code: '+7 6', name: 'Казахстан' },\r\n        { code: '+7 7', name: 'Казахстан' },\r\n        { code: '+1 345', name: 'Каймановы о-ва' },\r\n        { code: '+855', name: 'Камбоджа' },\r\n        { code: '+237', name: 'Камерун' },\r\n        { code: '+1', name: 'Канада' },\r\n        { code: '+974', name: 'Катар' },\r\n        { code: '+254', name: 'Кения' },\r\n        { code: '+357', name: 'Кипр' },\r\n        { code: '+996', name: 'Киргизия' },\r\n        { code: '+686', name: 'Кирибати' },\r\n        { code: '+86', name: 'Китай' },\r\n        { code: '+850', name: 'КНДР' },\r\n        { code: '+61', name: 'Кокосовые о-ва' },\r\n        { code: '+57', name: 'Колумбия' },\r\n        { code: '+269', name: 'Коморские о-ва' },\r\n        { code: '+242', name: 'Конго - Браззавиль' },\r\n        { code: '+243', name: 'Конго - Киншаса' },\r\n        { code: '+506', name: 'Коста-Рика' },\r\n        { code: '+225', name: 'Кот-д’Ивуар' },\r\n        { code: '+53', name: 'Куба' },\r\n        { code: '+965', name: 'Кувейт' },\r\n        { code: '+599 9', name: 'Кюрасао' },\r\n        { code: '+856', name: 'Лаос' },\r\n        { code: '+371', name: 'Латвия' },\r\n        { code: '+266', name: 'Лесото' },\r\n        { code: '+231', name: 'Либерия' },\r\n        { code: '+961', name: 'Ливан' },\r\n        { code: '+218', name: 'Ливия' },\r\n        { code: '+370', name: 'Литва' },\r\n        { code: '+423', name: 'Лихтенштейн' },\r\n        { code: '+352', name: 'Люксембург' },\r\n        { code: '+230', name: 'Маврикий' },\r\n        { code: '+222', name: 'Мавритания' },\r\n        { code: '+261', name: 'Мадагаскар' },\r\n        { code: '+262', name: 'Майотта' },\r\n        { code: '+853', name: 'Макао (особый район)' },\r\n        { code: '+389', name: 'Македония' },\r\n        { code: '+265', name: 'Малави' },\r\n        { code: '+60', name: 'Малайзия' },\r\n        { code: '+223', name: 'Мали' },\r\n        { code: '+960', name: 'Мальдивские о-ва' },\r\n        { code: '+356', name: 'Мальта' },\r\n        { code: '+212', name: 'Марокко' },\r\n        { code: '+596', name: 'Мартиника' },\r\n        { code: '+692', name: 'Маршалловы о-ва' },\r\n        { code: '+52', name: 'Мексика' },\r\n        { code: '+258', name: 'Мозамбик' },\r\n        { code: '+373', name: 'Молдова' },\r\n        { code: '+377', name: 'Монако' },\r\n        { code: '+976', name: 'Монголия' },\r\n        { code: '+1 664', name: 'Монтсеррат' },\r\n        { code: '+95', name: 'Мьянма (Бирма)' },\r\n        { code: '+264', name: 'Намибия' },\r\n        { code: '+674', name: 'Науру' },\r\n        { code: '+977', name: 'Непал' },\r\n        { code: '+227', name: 'Нигер' },\r\n        { code: '+234', name: 'Нигерия' },\r\n        { code: '+31', name: 'Нидерланды' },\r\n        { code: '+505', name: 'Никарагуа' },\r\n        { code: '+683', name: 'Ниуэ' },\r\n        { code: '+64', name: 'Новая Зеландия' },\r\n        { code: '+687', name: 'Новая Каледония' },\r\n        { code: '+47', name: 'Норвегия' },\r\n        { code: '+672', name: 'о-в Норфолк' },\r\n        { code: '+61', name: 'о-в Рождества' },\r\n        { code: '+290', name: 'О-в Св. Елены' },\r\n        { code: '+682', name: 'о-ва Кука' },\r\n        { code: '+1 649', name: 'О-ва Тёркс и Кайкос' },\r\n        { code: '+971', name: 'ОАЭ' },\r\n        { code: '+968', name: 'Оман' },\r\n        { code: '+247', name: 'Остров Вознесения' },\r\n        { code: '+92', name: 'Пакистан' },\r\n        { code: '+680', name: 'Палау' },\r\n        { code: '+970', name: 'Палестинские территории' },\r\n        { code: '+507', name: 'Панама' },\r\n        { code: '+675', name: 'Папуа – Новая Гвинея' },\r\n        { code: '+595', name: 'Парагвай' },\r\n        { code: '+51', name: 'Перу' },\r\n        { code: '+64', name: 'Питкэрн' },\r\n        { code: '+48', name: 'Польша' },\r\n        { code: '+351', name: 'Португалия' },\r\n        { code: '+1 787', name: 'Пуэрто-Рико' },\r\n        { code: '+1 939', name: 'Пуэрто-Рико' },\r\n        { code: '+82', name: 'Республика Корея' },\r\n        { code: '+262', name: 'Реюньон' },\r\n        { code: '+7', name: 'Россия' },\r\n        { code: '+250', name: 'Руанда' },\r\n        { code: '+40', name: 'Румыния' },\r\n        { code: '+503', name: 'Сальвадор' },\r\n        { code: '+685', name: 'Самоа' },\r\n        { code: '+378', name: 'Сан-Марино' },\r\n        { code: '+239', name: 'Сан-Томе и Принсипи' },\r\n        { code: '+966', name: 'Саудовская Аравия' },\r\n        { code: '+268', name: 'Свазиленд' },\r\n        { code: '+1 670', name: 'Северные Марианские о-ва' },\r\n        { code: '+248', name: 'Сейшельские о-ва' },\r\n        { code: '+590', name: 'Сен-Бартельми' },\r\n        { code: '+590', name: 'Сен-Мартен (Франция)' },\r\n        { code: '+508', name: 'Сен-Пьер и Микелон' },\r\n        { code: '+221', name: 'Сенегал' },\r\n        { code: '+1 784', name: 'Сент-Винсент и Гренадины' },\r\n        { code: '+1 869', name: 'Сент-Китс и Невис' },\r\n        { code: '+1 758', name: 'Сент-Люсия' },\r\n        { code: '+381', name: 'Сербия' },\r\n        { code: '+65', name: 'Сингапур' },\r\n        { code: '+1 721', name: 'Синт-Мартен' },\r\n        { code: '+599 3', name: 'Синт-Эстатиус' },\r\n        { code: '+963', name: 'Сирия' },\r\n        { code: '+421', name: 'Словакия' },\r\n        { code: '+386', name: 'Словения' },\r\n        { code: '+1', name: 'Соединенные Штаты' },\r\n        { code: '+677', name: 'Соломоновы о-ва' },\r\n        { code: '+252', name: 'Сомали' },\r\n        { code: '+249', name: 'Судан' },\r\n        { code: '+597', name: 'Суринам' },\r\n        { code: '+232', name: 'Сьерра-Леоне' },\r\n        { code: '+992', name: 'Таджикистан' },\r\n        { code: '+66', name: 'Таиланд' },\r\n        { code: '+886', name: 'Тайвань' },\r\n        { code: '+255', name: 'Танзания' },\r\n        { code: '+228', name: 'Того' },\r\n        { code: '+690', name: 'Токелау' },\r\n        { code: '+676', name: 'Тонга' },\r\n        { code: '+1 868', name: 'Тринидад и Тобаго' },\r\n        { code: '+688', name: 'Тувалу' },\r\n        { code: '+216', name: 'Тунис' },\r\n        { code: '+993', name: 'Туркменистан' },\r\n        { code: '+90', name: 'Турция' },\r\n        { code: '+256', name: 'Уганда' },\r\n        { code: '+998', name: 'Узбекистан' },\r\n        { code: '+380', name: 'Украина' },\r\n        { code: '+681', name: 'Уоллис и Футуна' },\r\n        { code: '+598', name: 'Уругвай' },\r\n        { code: '+298', name: 'Фарерские о-ва' },\r\n        { code: '+691', name: 'Федеративные Штаты Микронезии' },\r\n        { code: '+679', name: 'Фиджи' },\r\n        { code: '+63', name: 'Филиппины' },\r\n        { code: '+358', name: 'Финляндия' },\r\n        { code: '+500', name: 'Фолклендские о-ва' },\r\n        { code: '+33', name: 'Франция' },\r\n        { code: '+594', name: 'Французская Гвиана' },\r\n        { code: '+689', name: 'Французская Полинезия' },\r\n        { code: '+385', name: 'Хорватия' },\r\n        { code: '+236', name: 'ЦАР' },\r\n        { code: '+235', name: 'Чад' },\r\n        { code: '+382', name: 'Черногория' },\r\n        { code: '+420', name: 'Чехия' },\r\n        { code: '+56', name: 'Чили' },\r\n        { code: '+41', name: 'Швейцария' },\r\n        { code: '+46', name: 'Швеция' },\r\n        { code: '+47 79', name: 'Шпицберген' },\r\n        { code: '+47 79', name: 'Шпицберген и Ян-Майен' },\r\n        { code: '+94', name: 'Шри-Ланка' },\r\n        { code: '+593', name: 'Эквадор' },\r\n        { code: '+240', name: 'Экваториальная Гвинея' },\r\n        { code: '+291', name: 'Эритрея' },\r\n        { code: '+372', name: 'Эстония' },\r\n        { code: '+251', name: 'Эфиопия' },\r\n        { code: '+27', name: 'ЮАР' },\r\n        { code: '+500', name: 'Южная Георгия и Южные Сандвичевы о-ва' },\r\n        { code: '+995 34', name: 'Южная Осетия' },\r\n        { code: '+211', name: 'Южный Судан' },\r\n        { code: '+1 876', name: 'Ямайка' },\r\n        { code: '+81', name: 'Япония' }\r\n    ];\r\n}\n\n//# sourceURL=webpack:///./src/js/country-list.js?");

/***/ }),

/***/ "./src/js/forms/forms-init.js":
/*!************************************!*\
  !*** ./src/js/forms/forms-init.js ***!
  \************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/js/utils.js\");\n\r\n\r\nwindow.addEventListener('hashchange', initForm);\r\n\r\nwindow.addEventListener('DOMContentLoaded', initForm);\r\n\r\nwindow.addEventListener('onRender', initForm);\r\n\r\nfunction initForm() {\r\n\tconst tlInputs = document.querySelectorAll('.tl-input input');\r\n\ttlInputs.forEach((input) => {\r\n\t\tinput.addEventListener('input', (e) => onInput(e), false);\r\n\t\tinput.addEventListener('focus', (e) => onInput(e), false);\r\n\t\tinput.addEventListener('blur', (e) => onInput(e), false);\r\n\t\tif (input.value) {\r\n\t\t\tinput.focus();\r\n\t\t\tinput.blur();\r\n\t\t}\r\n\t});\r\n\tfunction onInput(e) {\r\n\t\tif (e.target.type == 'tel' && e.target.getAttribute('tel-code')) {\r\n\t\t\tObject(_utils__WEBPACK_IMPORTED_MODULE_0__[\"mask\"])(e);\r\n\t\t}\r\n\t\tif (e.type == 'focus') {\r\n\t\t\te.target.parentElement.classList.add('focused');\r\n\t\t}\r\n\t\tif (e.type == 'blur') {\r\n\t\t\te.target.parentElement.classList.remove('focused');\r\n\t\t}\r\n\t\tif (e.target.value != '') {\r\n\t\t\te.target.parentElement.classList.remove('empty');\r\n\t\t} else {\r\n\t\t\te.target.parentElement.classList.add('empty');\r\n\t\t}\r\n\t}\r\n\r\n\tconst loginSelect = document.querySelector('.tl-select');\r\n\tif (loginSelect) {\r\n\t\tconst loginSelectInner = loginSelect.querySelector('.inner');\r\n\t\tconst loginSelectInnerInput = loginSelectInner.querySelector('input');\r\n\t\tconst loginSelectOption = loginSelect.querySelector('.option');\r\n\t\tconst loginSelectOptionList = loginSelectOption.querySelector('ul');\r\n\t\tloginSelectInnerInput.onfocus = () => {\r\n\t\t\tloginSelect.classList.toggle('show');\r\n\t\t};\r\n\r\n\t\tloginSelectInnerInput.onblur = () => {\r\n\t\t\tloginSelect.classList.toggle('show');\r\n\t\t};\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack:///./src/js/forms/forms-init.js?");

/***/ }),

/***/ "./src/js/forms/tl-button.js":
/*!***********************************!*\
  !*** ./src/js/forms/tl-button.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TlButton; });\nclass TlButton {\r\n  init(container) {\r\n    this.container = container;\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this.container.innerHTML = TlButton.markup(this);\r\n    this.addEventListeners();\r\n  }\r\n\r\n  static markup() {\r\n    return `\r\n      <div class=\"login-button\">\r\n        <button class=\"tl-full-button\">Next</button>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  addEventListeners() {\r\n    // this.clickMeButton().addEventListener('click', () =>\r\n    //   this.container.dispatchEvent(new CustomEvent('click-me-was-clicked')));\r\n  }\r\n\r\n  constructor(container) {\r\n    // The constructor should only contain the boiler plate code for finding or creating the reference.\r\n    if (typeof container.dataset.ref === 'undefined') {\r\n      this.ref = Math.random();\r\n      TlButton.refs[this.ref] = this;\r\n      container.dataset.ref = this.ref;\r\n      this.init(container);\r\n    } else {\r\n      // If this element has already been instantiated, use the existing reference.\r\n      return TlButton.refs[container.dataset.ref];\r\n    }\r\n  }\r\n}\r\n\r\nTlButton.refs = {};\r\n\r\n// document.addEventListener('DOMContentLoaded', () => {\r\n//   new ConfirmCodePage(document.getElementById('confirm-code-page'))\r\n// });\n\n//# sourceURL=webpack:///./src/js/forms/tl-button.js?");

/***/ }),

/***/ "./src/js/login-page.js":
/*!******************************!*\
  !*** ./src/js/login-page.js ***!
  \******************************/
/*! exports provided: LoginPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoginPage\", function() { return LoginPage; });\n/* harmony import */ var _country_list_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./country-list.js */ \"./src/js/country-list.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/js/utils.js\");\n\r\n\r\n\r\nclass LoginPage {\r\n\tinit(container) {\r\n\t\tthis.container = container;\r\n\t\tthis.showButton = false;\r\n\t\tthis.phoneNumber = \"\";\r\n\t\tthis.render();\r\n\t}\r\n\r\n\t/**\r\n\t * Функция для изменения значения видимости кнопки NEXT\r\n\t * Не работает как надо, из-за того что происходит render() и пропадает фокус с поля ввода\r\n\t * @param {*} visible видимость кнопки\r\n\t */\r\n\tsetVisibleButton(visible) {\r\n\t\tthis.showButton = visible;\r\n\t\tthis.render();\r\n\t}\r\n\r\n\trender() {\r\n\t\tthis.container.innerHTML = LoginPage.markup(this);\r\n\t\twindow.dispatchEvent(new CustomEvent('onRender'));\r\n\r\n\t\t// input\r\n\t\tconst loginInputContainer = this.container.querySelector('.login-input');\r\n    const loginInput = loginInputContainer.querySelector('input[type=\"tel\"]');\r\n\t\tif (loginInputContainer) {\r\n\t\t\tloginInput.setAttribute('tel-code', '+1');\r\n\t\t\tloginInput.addEventListener('input', (e) => {\r\n\t\t\t\tthis.phoneNumber = e.target.value;\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// button\r\n\t\tconst loginButtonContainer = document.querySelector('.login-button');\r\n\t\tif (loginButtonContainer) {\r\n\t\t\tconst loginButton = loginButtonContainer.querySelector('.tl-button');\r\n\t\t\tloginButton.onclick = (e) => {\r\n\t\t\t\tclient.inputPhone = loginInput.value;\r\n\t\t\t\tconst phoneNumber = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"parseTelephoneNumber\"])(loginInput.value);\r\n\t\t\t\tclient\r\n\t\t\t\t\t.setAuthenticationPhoneNumber(phoneNumber)\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\tconsole.log('receive result', result);\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tconsole.error('catch error', error);\r\n\t\t\t\t\t\tthrow error;\r\n\t\t\t\t\t});\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// костыль\r\n\t\tloginInput.addEventListener('input', (e) => {\r\n\t\t\tconst number = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"parseTelephoneNumber\"])(e.target.value);\r\n\t\t\tif (Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"isValidPhoneNumber\"])(number)) {\r\n\t\t\t\tloginButtonContainer.classList.remove('hide')\r\n\t\t\t} else {\r\n\t\t\t\tloginButtonContainer.classList.add('hide')\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t// select\r\n\t\tconst loginSelect = this.container.querySelector('.tl-select');\r\n\t\tif (loginSelect) {\r\n\t\t\tconst loginSelectInner = loginSelect.querySelector('.inner');\r\n\t\t\tconst loginSelectInnerInput = loginSelectInner.querySelector('input');\r\n\t\t\tconst loginSelectInnerPlaceholder = loginSelectInner.querySelector('.placeholder');\r\n\t\t\tconst loginSelectOption = loginSelect.querySelector('.option');\r\n\t\t\tconst loginSelectOptionList = loginSelectOption.querySelector('ul');\r\n\t\t\tthis.initCountryList(loginSelectOptionList, Object(_country_list_js__WEBPACK_IMPORTED_MODULE_0__[\"getCountriesList\"])());\r\n\t\t\tconst loginSelectOptionListItem = loginSelectOptionList.querySelectorAll('.item');\r\n\r\n\t\t\tloginSelectOptionListItem.forEach((item) => {\r\n\t\t\t\titem.onmouseover = (e) => {\r\n\t\t\t\t\tconst name = e.target.querySelector('.name');\r\n\t\t\t\t\tif (loginSelectInnerPlaceholder) {\r\n\t\t\t\t\t\tloginSelectInnerPlaceholder.textContent = name.textContent;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\titem.onmouseout = (e) => {\r\n\t\t\t\t\tif (loginSelectInnerPlaceholder) {\r\n\t\t\t\t\t\tloginSelectInnerPlaceholder.textContent = 'Country';\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\titem.onclick = (e) => {\r\n\t\t\t\t\tconst name = e.target.querySelector('.name');\r\n\t\t\t\t\tconst code = e.target.querySelector('.code');\r\n\t\t\t\t\tif (loginSelectInnerPlaceholder) {\r\n\t\t\t\t\t\tloginSelectInnerPlaceholder.textContent = 'Country';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tloginSelectInnerInput.value = name.textContent;\r\n\t\t\t\t\tloginSelectInner.classList.remove('empty');\r\n\t\t\t\t\tconst telCode = code.textContent;\r\n\t\t\t\t\tloginInput.value = telCode;\r\n\t\t\t\t\tloginInput.setAttribute('tel-code', telCode);\r\n\t\t\t\t\tloginInput.parentElement.classList.remove('empty');\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tinitCountryList(selectList, list) {\r\n\t\tlist.forEach((country) => {\r\n\t\t\tconst li = document.createElement('li');\r\n\t\t\tconst divCode = document.createElement('div');\r\n\t\t\tconst divName = document.createElement('div');\r\n\t\t\tli.classList.add('item');\r\n\t\t\tdivName.textContent = country.name;\r\n\t\t\tdivName.classList.add('name');\r\n\t\t\tdivCode.textContent = country.code;\r\n\t\t\tdivCode.classList.add('code');\r\n\t\t\tli.appendChild(divName);\r\n\t\t\tli.appendChild(divCode);\r\n\t\t\tselectList.appendChild(li);\r\n\t\t});\r\n\t}\r\n\r\n\tstatic markup({phoneNumber}) {\r\n\t\treturn `\r\n      <section class=\"login-section\">\r\n        <div class=\"login-container\">\r\n          <img class=\"login-logo\" src=\"./assets/img/logo.png\" alt=\"Telegram\">\r\n          <h2 class=\"login-title\">Sign in to Telegram</h2>\r\n          <p class=\"login-text\">Please confirm your country and enter your phone number</p>\r\n          <div class=\"tl-select login-select\">\r\n            <div class=\"inner tl-input empty\">\r\n              <input type=\"text\" readonly>\r\n              <label class=\"placeholder\">Country</label>\r\n            </div>\r\n            <div class=\"option\">\r\n              <ul></ul>\r\n            </div>\r\n          </div>\r\n\t\t\t\t\t<div class=\"tl-input login-input empty\">\r\n            <input type=\"tel\" value=\"${phoneNumber}\">\r\n            <label class=\"placeholder\">Phone Number</label>\r\n          </div>\r\n          <label class=\"tl-checkbox login-checkbox\">\r\n            Keep me signed in\r\n            <input type=\"checkbox\">\r\n            <span class=\"checkmark\"></span>\r\n          </label>\r\n          <div class=\"login-button hide\">\r\n            <a href=\"#confirm-code\" class=\"tl-button tl-full-button\">Next</a>\r\n          </div>\r\n        </div>\r\n\t\t\t</section>\r\n    `;\r\n\t}\r\n\r\n\tconstructor(container) {\r\n\t\tthis.init(container);\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack:///./src/js/login-page.js?");

/***/ }),

/***/ "./src/js/main.js":
/*!************************!*\
  !*** ./src/js/main.js ***!
  \************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _startup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./startup */ \"./src/js/startup.js\");\n/* harmony import */ var _forms_forms_init__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./forms/forms-init */ \"./src/js/forms/forms-init.js\");\n/* harmony import */ var _country_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./country-list */ \"./src/js/country-list.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./config */ \"./src/js/config.js\");\n/* harmony import */ var _forms_tl_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./forms/tl-button */ \"./src/js/forms/tl-button.js\");\n/* harmony import */ var _confirm_code_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./confirm-code-page */ \"./src/js/confirm-code-page.js\");\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/main.js?");

/***/ }),

/***/ "./src/js/routing.js":
/*!***************************!*\
  !*** ./src/js/routing.js ***!
  \***************************/
/*! exports provided: Routing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Routing\", function() { return Routing; });\n/* harmony import */ var _confirm_code_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./confirm-code-page */ \"./src/js/confirm-code-page.js\");\n/* harmony import */ var _login_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./login-page */ \"./src/js/login-page.js\");\n/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./client */ \"./src/js/client.js\");\n\r\n\r\n\r\n\r\nclass Routing {\r\n\tconstructor() {\r\n\t\tthis.route = {\r\n\t\t\tlogin: {\r\n\t\t\t\trendered: (container) => {\r\n\t\t\t\t\tnew _login_page__WEBPACK_IMPORTED_MODULE_1__[\"LoginPage\"](container);\r\n\t\t\t\t\tthis.preventScroll();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'confirm-code': {\r\n\t\t\t\trendered: (container) => {\r\n\t\t\t\t\tconsole.log('code');\r\n\t\t\t\t\tnew _confirm_code_page__WEBPACK_IMPORTED_MODULE_0__[\"ConfirmCodePage\"](container);\r\n\t\t\t\t\tthis.preventScroll();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'init-client': {\r\n\t\t\t\trendered: () => {\r\n\t\t\t\t\twindow.client = new _client__WEBPACK_IMPORTED_MODULE_2__[\"Client\"]();\r\n\t\t\t\t\tclient.setTdlibParameters();\r\n\t\t\t\t\tclient.checkDatabaseEncryptionKey();\r\n\r\n\t\t\t\t\t//Если не авторизированный пользователь, то на страницу логина, иначе на главную\r\n\t\t\t\t\tif (true) {\r\n\t\t\t\t\t\twindow.location.hash = '#login';\r\n\t\t\t\t\t} else {}\r\n\t\t\t\t\tthis.preventScroll();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tpreventScroll() {\r\n\t\tdocument.querySelector('html').scrollTop = 0;\r\n\t\tdocument.querySelector('body').scrollTop = 0;\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack:///./src/js/routing.js?");

/***/ }),

/***/ "./src/js/startup.js":
/*!***************************!*\
  !*** ./src/js/startup.js ***!
  \***************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _routing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./routing */ \"./src/js/routing.js\");\n\r\n\r\n/**\r\n * Вывод консоли в блок для того, чтобы увидеть консольные сообщения на телефоне \r\n */\r\nif (typeof console !== undefined) {\r\n\tconsole.olog = console.log;\r\n\tconsole.log = (message) => {\r\n\t\tconst outConsoleBlock = document.querySelector('.out-console-block');\r\n\t\tif (outConsoleBlock) {\r\n\t\t\tconst p = document.createElement('p');\r\n\t\t\tp.textContent = message;\r\n\t\t\toutConsoleBlock.appendChild(p);\r\n\t\t}\r\n\t}\r\n\tconsole.error = console.debug = console.info = console.warn = console.log;\r\n}\r\n\r\nclass App {\r\n\tconstructor() {\r\n\t\tthis.routes = new _routing__WEBPACK_IMPORTED_MODULE_0__[\"Routing\"]();\r\n\t\tthis.startPage = 'init-client';\r\n\t\tthis.init();\r\n\t}\r\n\r\n\trouteChange() {\r\n\t\tif (typeof client === 'undefined') {\r\n\t\t\twindow.location.hash = '#init-client';\r\n\t\t}\r\n\t\tthis.routeID = location.hash.slice(1);\r\n\t\tthis.route = this.routes.route[this.routeID];\r\n\t\tthis.routeElem = document.getElementById(this.routeID);\r\n\t\tthis.route.rendered(document.querySelector('main'));\r\n\t}\r\n\r\n\tinit() {\r\n\t\twindow.addEventListener('hashchange', (e) => this.routeChange());\r\n\t\tif (!window.location.hash) {\r\n\t\t\twindow.location.hash = this.default;\r\n\t\t} else {\r\n\t\t\tthis.routeChange();\r\n\t\t}\r\n\t}\r\n};\r\n\r\nwindow.app = new App();\n\n//# sourceURL=webpack:///./src/js/startup.js?");

/***/ }),

/***/ "./src/js/tdweb.js":
/*!*************************!*\
  !*** ./src/js/tdweb.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 9);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(13);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = false;\n\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar arrayWithHoles = __webpack_require__(10);\n\nvar iterableToArrayLimit = __webpack_require__(11);\n\nvar nonIterableRest = __webpack_require__(12);\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function() {\n  return new Worker(__webpack_require__.p + \"2380cfa0e562e148fa50.worker.js\");\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar rng = __webpack_require__(15);\nvar bytesToUuid = __webpack_require__(16);\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(17);\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : undefined\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/typeof.js\nvar helpers_typeof = __webpack_require__(5);\nvar typeof_default = /*#__PURE__*/__webpack_require__.n(helpers_typeof);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/slicedToArray.js\nvar slicedToArray = __webpack_require__(6);\nvar slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(0);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(2);\nvar asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/classCallCheck.js\nvar classCallCheck = __webpack_require__(3);\nvar classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/createClass.js\nvar createClass = __webpack_require__(4);\nvar createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);\n\n// EXTERNAL MODULE: ./src/worker.js\nvar worker = __webpack_require__(7);\nvar worker_default = /*#__PURE__*/__webpack_require__.n(worker);\n\n// CONCATENATED MODULE: ./node_modules/broadcast-channel/dist/es/util.js\n/**\n * returns true if the given object is a promise\n */\nfunction isPromise(obj) {\n  if (obj && typeof obj.then === 'function') {\n    return true;\n  } else {\n    return false;\n  }\n}\nfunction sleep(time) {\n  if (!time) time = 0;\n  return new Promise(function (res) {\n    return setTimeout(res, time);\n  });\n}\nfunction randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n/**\n * https://stackoverflow.com/a/1349426/3443137\n */\n\nfunction randomToken(length) {\n  if (!length) length = 5;\n  var text = '';\n  var possible = 'abcdefghijklmnopqrstuvwxzy0123456789';\n\n  for (var i = 0; i < length; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n}\nvar lastMs = 0;\nvar additional = 0;\n/**\n * returns the current time in micro-seconds,\n * WARNING: This is a pseudo-function\n * Performance.now is not reliable in webworkers, so we just make sure to never return the same time.\n * This is enough in browsers, and this function will not be used in nodejs.\n * The main reason for this hack is to ensure that BroadcastChannel behaves equal to production when it is used in fast-running unit tests.\n */\n\nfunction microSeconds() {\n  var ms = new Date().getTime();\n\n  if (ms === lastMs) {\n    additional++;\n    return ms * 1000 + additional;\n  } else {\n    lastMs = ms;\n    additional = 0;\n    return ms * 1000;\n  }\n}\n// EXTERNAL MODULE: ./node_modules/detect-node/browser.js\nvar browser = __webpack_require__(1);\nvar browser_default = /*#__PURE__*/__webpack_require__.n(browser);\n\n// CONCATENATED MODULE: ./node_modules/broadcast-channel/dist/es/methods/native.js\n\n\nvar native_microSeconds = microSeconds;\nvar type = 'native';\nfunction create(channelName) {\n  var state = {\n    messagesCallback: null,\n    bc: new BroadcastChannel(channelName),\n    subFns: [] // subscriberFunctions\n\n  };\n\n  state.bc.onmessage = function (msg) {\n    if (state.messagesCallback) {\n      state.messagesCallback(msg.data);\n    }\n  };\n\n  return state;\n}\nfunction native_close(channelState) {\n  channelState.bc.close();\n  channelState.subFns = [];\n}\nfunction postMessage(channelState, messageJson) {\n  channelState.bc.postMessage(messageJson, false);\n}\nfunction onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nfunction canBeUsed() {\n  /**\n   * in the electron-renderer, isNode will be true even if we are in browser-context\n   * so we also check if window is undefined\n   */\n  if (browser_default.a && typeof window === 'undefined') return false;\n\n  if (typeof BroadcastChannel === 'function') {\n    if (BroadcastChannel._pubkey) {\n      throw new Error('BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill');\n    }\n\n    return true;\n  } else return false;\n}\nfunction averageResponseTime() {\n  return 100;\n}\n/* harmony default export */ var methods_native = ({\n  create: create,\n  close: native_close,\n  onMessage: onMessage,\n  postMessage: postMessage,\n  canBeUsed: canBeUsed,\n  type: type,\n  averageResponseTime: averageResponseTime,\n  microSeconds: native_microSeconds\n});\n// CONCATENATED MODULE: ./node_modules/broadcast-channel/dist/es/oblivious-set.js\n/**\n *\n *\n */\nvar ObliviousSet = function ObliviousSet(ttl) {\n  this.ttl = ttl;\n  this.set = new Set();\n  this.timeMap = new Map();\n  this.has = this.set.has.bind(this.set);\n};\n\nObliviousSet.prototype = {\n  add: function add(value) {\n    this.timeMap.set(value, oblivious_set_now());\n    this.set.add(value);\n\n    _removeTooOldValues(this);\n  },\n  clear: function clear() {\n    this.set.clear();\n    this.timeMap.clear();\n  }\n};\nfunction _removeTooOldValues(obliviousSet) {\n  var olderThen = oblivious_set_now() - obliviousSet.ttl;\n  var iterator = obliviousSet.set[Symbol.iterator]();\n\n  while (true) {\n    var value = iterator.next().value;\n    if (!value) return; // no more elements\n\n    var time = obliviousSet.timeMap.get(value);\n\n    if (time < olderThen) {\n      obliviousSet.timeMap[\"delete\"](value);\n      obliviousSet.set[\"delete\"](value);\n    } else {\n      // we reached a value that is not old enough\n      return;\n    }\n  }\n}\n\nfunction oblivious_set_now() {\n  return new Date().getTime();\n}\n\n/* harmony default export */ var oblivious_set = (ObliviousSet);\n// CONCATENATED MODULE: ./node_modules/broadcast-channel/dist/es/options.js\nfunction fillOptionsWithDefaults(options) {\n  if (!options) options = {};\n  options = JSON.parse(JSON.stringify(options)); // main\n\n  if (typeof options.webWorkerSupport === 'undefined') options.webWorkerSupport = true; // indexed-db\n\n  if (!options.idb) options.idb = {}; //  after this time the messages get deleted\n\n  if (!options.idb.ttl) options.idb.ttl = 1000 * 45;\n  if (!options.idb.fallbackInterval) options.idb.fallbackInterval = 150; // localstorage\n\n  if (!options.localstorage) options.localstorage = {};\n  if (!options.localstorage.removeTimeout) options.localstorage.removeTimeout = 1000 * 60; // node\n\n  if (!options.node) options.node = {};\n  if (!options.node.ttl) options.node.ttl = 1000 * 60 * 2; // 2 minutes;\n\n  if (typeof options.node.useFastPath === 'undefined') options.node.useFastPath = true;\n  return options;\n}\n// CONCATENATED MODULE: ./node_modules/broadcast-channel/dist/es/methods/indexed-db.js\n/**\n * this method uses indexeddb to store the messages\n * There is currently no observerAPI for idb\n * @link https://github.com/w3c/IndexedDB/issues/51\n */\n\n\nvar indexed_db_microSeconds = microSeconds;\n\n\nvar DB_PREFIX = 'pubkey.broadcast-channel-0-';\nvar OBJECT_STORE_ID = 'messages';\nvar indexed_db_type = 'idb';\nfunction getIdb() {\n  if (typeof indexedDB !== 'undefined') return indexedDB;\n  if (typeof window.mozIndexedDB !== 'undefined') return window.mozIndexedDB;\n  if (typeof window.webkitIndexedDB !== 'undefined') return window.webkitIndexedDB;\n  if (typeof window.msIndexedDB !== 'undefined') return window.msIndexedDB;\n  return false;\n}\nfunction createDatabase(channelName) {\n  var IndexedDB = getIdb(); // create table\n\n  var dbName = DB_PREFIX + channelName;\n  var openRequest = IndexedDB.open(dbName, 1);\n\n  openRequest.onupgradeneeded = function (ev) {\n    var db = ev.target.result;\n    db.createObjectStore(OBJECT_STORE_ID, {\n      keyPath: 'id',\n      autoIncrement: true\n    });\n  };\n\n  var dbPromise = new Promise(function (res, rej) {\n    openRequest.onerror = function (ev) {\n      return rej(ev);\n    };\n\n    openRequest.onsuccess = function () {\n      res(openRequest.result);\n    };\n  });\n  return dbPromise;\n}\n/**\n * writes the new message to the database\n * so other readers can find it\n */\n\nfunction writeMessage(db, readerUuid, messageJson) {\n  var time = new Date().getTime();\n  var writeObject = {\n    uuid: readerUuid,\n    time: time,\n    data: messageJson\n  };\n  var transaction = db.transaction([OBJECT_STORE_ID], 'readwrite');\n  return new Promise(function (res, rej) {\n    transaction.oncomplete = function () {\n      return res();\n    };\n\n    transaction.onerror = function (ev) {\n      return rej(ev);\n    };\n\n    var objectStore = transaction.objectStore(OBJECT_STORE_ID);\n    objectStore.add(writeObject);\n  });\n}\nfunction getAllMessages(db) {\n  var objectStore = db.transaction(OBJECT_STORE_ID).objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n\n      if (cursor) {\n        ret.push(cursor.value); //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n\n        cursor[\"continue\"]();\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nfunction getMessagesHigherThen(db, lastCursorId) {\n  var objectStore = db.transaction(OBJECT_STORE_ID).objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  var keyRangeValue = IDBKeyRange.bound(lastCursorId + 1, Infinity);\n  return new Promise(function (res) {\n    objectStore.openCursor(keyRangeValue).onsuccess = function (ev) {\n      var cursor = ev.target.result;\n\n      if (cursor) {\n        ret.push(cursor.value); //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n\n        cursor[\"continue\"]();\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nfunction removeMessageById(db, id) {\n  var request = db.transaction([OBJECT_STORE_ID], 'readwrite').objectStore(OBJECT_STORE_ID)[\"delete\"](id);\n  return new Promise(function (res) {\n    request.onsuccess = function () {\n      return res();\n    };\n  });\n}\nfunction getOldMessages(db, ttl) {\n  var olderThen = new Date().getTime() - ttl;\n  var objectStore = db.transaction(OBJECT_STORE_ID).objectStore(OBJECT_STORE_ID);\n  var ret = [];\n  return new Promise(function (res) {\n    objectStore.openCursor().onsuccess = function (ev) {\n      var cursor = ev.target.result;\n\n      if (cursor) {\n        var msgObk = cursor.value;\n\n        if (msgObk.time < olderThen) {\n          ret.push(msgObk); //alert(\"Name for SSN \" + cursor.key + \" is \" + cursor.value.name);\n\n          cursor[\"continue\"]();\n        } else {\n          // no more old messages,\n          res(ret);\n          return;\n        }\n      } else {\n        res(ret);\n      }\n    };\n  });\n}\nfunction cleanOldMessages(db, ttl) {\n  return getOldMessages(db, ttl).then(function (tooOld) {\n    return Promise.all(tooOld.map(function (msgObj) {\n      return removeMessageById(db, msgObj.id);\n    }));\n  });\n}\nfunction indexed_db_create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n  return createDatabase(channelName).then(function (db) {\n    var state = {\n      closed: false,\n      lastCursorId: 0,\n      channelName: channelName,\n      options: options,\n      uuid: randomToken(10),\n\n      /**\n       * emittedMessagesIds\n       * contains all messages that have been emitted before\n       * @type {ObliviousSet}\n       */\n      eMIs: new oblivious_set(options.idb.ttl * 2),\n      // ensures we do not read messages in parrallel\n      writeBlockPromise: Promise.resolve(),\n      messagesCallback: null,\n      readQueuePromises: [],\n      db: db\n    };\n    /**\n     * if service-workers are used,\n     * we have no 'storage'-event if they post a message,\n     * therefore we also have to set an interval\n     */\n\n    _readLoop(state);\n\n    return state;\n  });\n}\n\nfunction _readLoop(state) {\n  if (state.closed) return;\n  return readNewMessages(state).then(function () {\n    return sleep(state.options.idb.fallbackInterval);\n  }).then(function () {\n    return _readLoop(state);\n  });\n}\n\nfunction _filterMessage(msgObj, state) {\n  if (msgObj.uuid === state.uuid) return false; // send by own\n\n  if (state.eMIs.has(msgObj.id)) return false; // already emitted\n\n  if (msgObj.data.time < state.messagesCallbackTime) return false; // older then onMessageCallback\n\n  return true;\n}\n/**\n * reads all new messages from the database and emits them\n */\n\n\nfunction readNewMessages(state) {\n  // channel already closed\n  if (state.closed) return Promise.resolve(); // if no one is listening, we do not need to scan for new messages\n\n  if (!state.messagesCallback) return Promise.resolve();\n  return getMessagesHigherThen(state.db, state.lastCursorId).then(function (newerMessages) {\n    var useMessages = newerMessages.map(function (msgObj) {\n      if (msgObj.id > state.lastCursorId) {\n        state.lastCursorId = msgObj.id;\n      }\n\n      return msgObj;\n    }).filter(function (msgObj) {\n      return _filterMessage(msgObj, state);\n    }).sort(function (msgObjA, msgObjB) {\n      return msgObjA.time - msgObjB.time;\n    }); // sort by time\n\n    useMessages.forEach(function (msgObj) {\n      if (state.messagesCallback) {\n        state.eMIs.add(msgObj.id);\n        state.messagesCallback(msgObj.data);\n      }\n    });\n    return Promise.resolve();\n  });\n}\n\nfunction indexed_db_close(channelState) {\n  channelState.closed = true;\n  channelState.db.close();\n}\nfunction indexed_db_postMessage(channelState, messageJson) {\n  channelState.writeBlockPromise = channelState.writeBlockPromise.then(function () {\n    return writeMessage(channelState.db, channelState.uuid, messageJson);\n  }).then(function () {\n    if (randomInt(0, 10) === 0) {\n      /* await (do not await) */\n      cleanOldMessages(channelState.db, channelState.options.idb.ttl);\n    }\n  });\n  return channelState.writeBlockPromise;\n}\nfunction indexed_db_onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n  readNewMessages(channelState);\n}\nfunction indexed_db_canBeUsed() {\n  if (browser_default.a) return false;\n  var idb = getIdb();\n  if (!idb) return false;\n  return true;\n}\nfunction indexed_db_averageResponseTime(options) {\n  return options.idb.fallbackInterval * 2;\n}\n/* harmony default export */ var indexed_db = ({\n  create: indexed_db_create,\n  close: indexed_db_close,\n  onMessage: indexed_db_onMessage,\n  postMessage: indexed_db_postMessage,\n  canBeUsed: indexed_db_canBeUsed,\n  type: indexed_db_type,\n  averageResponseTime: indexed_db_averageResponseTime,\n  microSeconds: indexed_db_microSeconds\n});\n// CONCATENATED MODULE: ./node_modules/broadcast-channel/dist/es/methods/localstorage.js\n/**\n * A localStorage-only method which uses localstorage and its 'storage'-event\n * This does not work inside of webworkers because they have no access to locastorage\n * This is basically implemented to support IE9 or your grandmothers toaster.\n * @link https://caniuse.com/#feat=namevalue-storage\n * @link https://caniuse.com/#feat=indexeddb\n */\n\n\n\n\nvar localstorage_microSeconds = microSeconds;\nvar KEY_PREFIX = 'pubkey.broadcastChannel-';\nvar localstorage_type = 'localstorage';\n/**\n * copied from crosstab\n * @link https://github.com/tejacques/crosstab/blob/master/src/crosstab.js#L32\n */\n\nfunction getLocalStorage() {\n  var localStorage;\n  if (typeof window === 'undefined') return null;\n\n  try {\n    localStorage = window.localStorage;\n    localStorage = window['ie8-eventlistener/storage'] || window.localStorage;\n  } catch (e) {// New versions of Firefox throw a Security exception\n    // if cookies are disabled. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1028153\n  }\n\n  return localStorage;\n}\nfunction storageKey(channelName) {\n  return KEY_PREFIX + channelName;\n}\n/**\n* writes the new message to the storage\n* and fires the storage-event so other readers can find it\n*/\n\nfunction localstorage_postMessage(channelState, messageJson) {\n  return new Promise(function (res) {\n    sleep().then(function () {\n      var key = storageKey(channelState.channelName);\n      var writeObj = {\n        token: randomToken(10),\n        time: new Date().getTime(),\n        data: messageJson,\n        uuid: channelState.uuid\n      };\n      var value = JSON.stringify(writeObj);\n      localStorage.setItem(key, value);\n      /**\n       * StorageEvent does not fire the 'storage' event\n       * in the window that changes the state of the local storage.\n       * So we fire it manually\n       */\n\n      var ev = document.createEvent('Event');\n      ev.initEvent('storage', true, true);\n      ev.key = key;\n      ev.newValue = value;\n      window.dispatchEvent(ev);\n      res();\n    });\n  });\n}\nfunction addStorageEventListener(channelName, fn) {\n  var key = storageKey(channelName);\n\n  var listener = function listener(ev) {\n    if (ev.key === key) {\n      fn(JSON.parse(ev.newValue));\n    }\n  };\n\n  window.addEventListener('storage', listener);\n  return listener;\n}\nfunction removeStorageEventListener(listener) {\n  window.removeEventListener('storage', listener);\n}\nfunction localstorage_create(channelName, options) {\n  options = fillOptionsWithDefaults(options);\n\n  if (!localstorage_canBeUsed()) {\n    throw new Error('BroadcastChannel: localstorage cannot be used');\n  }\n\n  var uuid = randomToken(10);\n  /**\n   * eMIs\n   * contains all messages that have been emitted before\n   * @type {ObliviousSet}\n   */\n\n  var eMIs = new oblivious_set(options.localstorage.removeTimeout);\n  var state = {\n    channelName: channelName,\n    uuid: uuid,\n    eMIs: eMIs // emittedMessagesIds\n\n  };\n  state.listener = addStorageEventListener(channelName, function (msgObj) {\n    if (!state.messagesCallback) return; // no listener\n\n    if (msgObj.uuid === uuid) return; // own message\n\n    if (!msgObj.token || eMIs.has(msgObj.token)) return; // already emitted\n\n    if (msgObj.data.time && msgObj.data.time < state.messagesCallbackTime) return; // too old\n\n    eMIs.add(msgObj.token);\n    state.messagesCallback(msgObj.data);\n  });\n  return state;\n}\nfunction localstorage_close(channelState) {\n  removeStorageEventListener(channelState.listener);\n}\nfunction localstorage_onMessage(channelState, fn, time) {\n  channelState.messagesCallbackTime = time;\n  channelState.messagesCallback = fn;\n}\nfunction localstorage_canBeUsed() {\n  if (browser_default.a) return false;\n  var ls = getLocalStorage();\n  if (!ls) return false;\n  return true;\n}\nfunction localstorage_averageResponseTime() {\n  return 120;\n}\n/* harmony default export */ var localstorage = ({\n  create: localstorage_create,\n  close: localstorage_close,\n  onMessage: localstorage_onMessage,\n  postMessage: localstorage_postMessage,\n  canBeUsed: localstorage_canBeUsed,\n  type: localstorage_type,\n  averageResponseTime: localstorage_averageResponseTime,\n  microSeconds: localstorage_microSeconds\n});\n// CONCATENATED MODULE: ./node_modules/broadcast-channel/dist/es/method-chooser.js\nvar require;\n\n\n // order is important\n\nvar METHODS = [methods_native, // fastest\nindexed_db, localstorage];\nvar REQUIRE_FUN = require;\n/**\n * The NodeMethod is loaded lazy\n * so it will not get bundled in browser-builds\n */\n\nif (browser_default.a) {\n  /**\n   * we use the non-transpiled code for nodejs\n   * because it runs faster\n   */\n  var NodeMethod = __webpack_require__(14);\n  /**\n   * this will be false for webpackbuilds\n   * which will shim the node-method with an empty object {}\n   */\n\n  if (typeof NodeMethod.canBeUsed === 'function') {\n    METHODS.push(NodeMethod);\n  }\n}\n\nfunction chooseMethod(options) {\n  // directly chosen\n  if (options.type) {\n    var ret = METHODS.find(function (m) {\n      return m.type === options.type;\n    });\n    if (!ret) throw new Error('method-type ' + options.type + ' not found');else return ret;\n  }\n\n  var chooseMethods = METHODS;\n\n  if (!options.webWorkerSupport && !browser_default.a) {\n    // prefer localstorage over idb when no webworker-support needed\n    chooseMethods = METHODS.filter(function (m) {\n      return m.type !== 'idb';\n    });\n  }\n\n  var useMethod = chooseMethods.find(function (method) {\n    return method.canBeUsed();\n  });\n  if (!useMethod) throw new Error('No useable methode found:' + JSON.stringify(METHODS.map(function (m) {\n    return m.type;\n  })));else return useMethod;\n}\n// CONCATENATED MODULE: ./node_modules/broadcast-channel/dist/es/index.js\n\n\n\n\nvar es_BroadcastChannel = function BroadcastChannel(name, options) {\n  this.name = name;\n  this.options = fillOptionsWithDefaults(options);\n  this.method = chooseMethod(this.options); // isListening\n\n  this._iL = false;\n  /**\n   * _onMessageListener\n   * setting onmessage twice,\n   * will overwrite the first listener\n   */\n\n  this._onML = null;\n  /**\n   * _addEventListeners\n   */\n\n  this._addEL = {\n    message: [],\n    internal: []\n  };\n  /**\n   * _beforeClose\n   * array of promises that will be awaited\n   * before the channel is closed\n   */\n\n  this._befC = [];\n  /**\n   * _preparePromise\n   */\n\n  this._prepP = null;\n\n  _prepareChannel(this);\n}; // STATICS\n\n/**\n * used to identify if someone overwrites\n * window.BroadcastChannel with this\n * See methods/native.js\n */\n\n\nes_BroadcastChannel._pubkey = true;\n/**\n * clears the tmp-folder if is node\n * @return {Promise<boolean>} true if has run, false if not node\n */\n\nes_BroadcastChannel.clearNodeFolder = function (options) {\n  options = fillOptionsWithDefaults(options);\n  var method = chooseMethod(options);\n\n  if (method.type === 'node') {\n    return method.clearNodeFolder().then(function () {\n      return true;\n    });\n  } else {\n    return Promise.resolve(false);\n  }\n}; // PROTOTYPE\n\n\nes_BroadcastChannel.prototype = {\n  postMessage: function postMessage(msg) {\n    if (this.closed) {\n      throw new Error('BroadcastChannel.postMessage(): ' + 'Cannot post message after channel has closed');\n    }\n\n    return _post(this, 'message', msg);\n  },\n  postInternal: function postInternal(msg) {\n    return _post(this, 'internal', msg);\n  },\n\n  set onmessage(fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n\n    _removeListenerObject(this, 'message', this._onML);\n\n    if (fn && typeof fn === 'function') {\n      this._onML = listenObj;\n\n      _addListenerObject(this, 'message', listenObj);\n    } else {\n      this._onML = null;\n    }\n  },\n\n  addEventListener: function addEventListener(type, fn) {\n    var time = this.method.microSeconds();\n    var listenObj = {\n      time: time,\n      fn: fn\n    };\n\n    _addListenerObject(this, type, listenObj);\n  },\n  removeEventListener: function removeEventListener(type, fn) {\n    var obj = this._addEL[type].find(function (obj) {\n      return obj.fn === fn;\n    });\n\n    _removeListenerObject(this, type, obj);\n  },\n  close: function close() {\n    var _this = this;\n\n    if (this.closed) return;\n    this.closed = true;\n    var awaitPrepare = this._prepP ? this._prepP : Promise.resolve();\n    this._onML = null;\n    this._addEL.message = [];\n    return awaitPrepare.then(function () {\n      return Promise.all(_this._befC.map(function (fn) {\n        return fn();\n      }));\n    }).then(function () {\n      return _this.method.close(_this._state);\n    });\n  },\n\n  get type() {\n    return this.method.type;\n  }\n\n};\n\nfunction _post(broadcastChannel, type, msg) {\n  var time = broadcastChannel.method.microSeconds();\n  var msgObj = {\n    time: time,\n    type: type,\n    data: msg\n  };\n  var awaitPrepare = broadcastChannel._prepP ? broadcastChannel._prepP : Promise.resolve();\n  return awaitPrepare.then(function () {\n    return broadcastChannel.method.postMessage(broadcastChannel._state, msgObj);\n  });\n}\n\nfunction _prepareChannel(channel) {\n  var maybePromise = channel.method.create(channel.name, channel.options);\n\n  if (isPromise(maybePromise)) {\n    channel._prepP = maybePromise;\n    maybePromise.then(function (s) {\n      // used in tests to simulate slow runtime\n\n      /*if (channel.options.prepareDelay) {\n           await new Promise(res => setTimeout(res, this.options.prepareDelay));\n      }*/\n      channel._state = s;\n    });\n  } else {\n    channel._state = maybePromise;\n  }\n}\n\nfunction _hasMessageListeners(channel) {\n  if (channel._addEL.message.length > 0) return true;\n  if (channel._addEL.internal.length > 0) return true;\n  return false;\n}\n\nfunction _addListenerObject(channel, type, obj) {\n  channel._addEL[type].push(obj);\n\n  _startListening(channel);\n}\n\nfunction _removeListenerObject(channel, type, obj) {\n  channel._addEL[type] = channel._addEL[type].filter(function (o) {\n    return o !== obj;\n  });\n\n  _stopListening(channel);\n}\n\nfunction _startListening(channel) {\n  if (!channel._iL && _hasMessageListeners(channel)) {\n    // someone is listening, start subscribing\n    var listenerFn = function listenerFn(msgObj) {\n      channel._addEL[msgObj.type].forEach(function (obj) {\n        if (msgObj.time >= obj.time) {\n          obj.fn(msgObj.data);\n        }\n      });\n    };\n\n    var time = channel.method.microSeconds();\n\n    if (channel._prepP) {\n      channel._prepP.then(function () {\n        channel._iL = true;\n        channel.method.onMessage(channel._state, listenerFn, time);\n      });\n    } else {\n      channel._iL = true;\n      channel.method.onMessage(channel._state, listenerFn, time);\n    }\n  }\n}\n\nfunction _stopListening(channel) {\n  if (channel._iL && !_hasMessageListeners(channel)) {\n    // noone is listening, stop subscribing\n    channel._iL = false;\n    var time = channel.method.microSeconds();\n    channel.method.onMessage(channel._state, null, time);\n  }\n}\n\n/* harmony default export */ var es = (es_BroadcastChannel);\n// EXTERNAL MODULE: ./node_modules/uuid/v4.js\nvar v4 = __webpack_require__(8);\nvar v4_default = /*#__PURE__*/__webpack_require__.n(v4);\n\n// CONCATENATED MODULE: ./src/logger.js\n\n\n\nvar logger_Logger =\n/*#__PURE__*/\nfunction () {\n  function Logger() {\n    classCallCheck_default()(this, Logger);\n\n    this.setVerbosity('WARNING');\n  }\n\n  createClass_default()(Logger, [{\n    key: \"debug\",\n    value: function debug() {\n      if (this.checkVerbosity(4)) {\n        var _console;\n\n        (_console = console).log.apply(_console, arguments);\n      }\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      if (this.checkVerbosity(4)) {\n        var _console2;\n\n        (_console2 = console).log.apply(_console2, arguments);\n      }\n    }\n  }, {\n    key: \"info\",\n    value: function info() {\n      if (this.checkVerbosity(3)) {\n        var _console3;\n\n        (_console3 = console).info.apply(_console3, arguments);\n      }\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      if (this.checkVerbosity(2)) {\n        var _console4;\n\n        (_console4 = console).warn.apply(_console4, arguments);\n      }\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      if (this.checkVerbosity(1)) {\n        var _console5;\n\n        (_console5 = console).error.apply(_console5, arguments);\n      }\n    }\n  }, {\n    key: \"setVerbosity\",\n    value: function setVerbosity(level) {\n      var default_level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'info';\n\n      if (level === undefined) {\n        level = default_level;\n      }\n\n      if (typeof level === 'string') {\n        level = {\n          ERROR: 1,\n          WARNING: 2,\n          INFO: 3,\n          LOG: 4,\n          DEBUG: 4\n        }[level.toUpperCase()] || 2;\n      }\n\n      this.level = level;\n    }\n  }, {\n    key: \"checkVerbosity\",\n    value: function checkVerbosity(level) {\n      return this.level >= level;\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar log = new logger_Logger();\n/* harmony default export */ var logger = (log);\n// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\n //import localforage from 'localforage';\n\n\n\n\n\nvar src_sleep = function sleep(ms) {\n  return new Promise(function (res) {\n    return setTimeout(res, ms);\n  });\n};\n/**\n * TDLib in a browser\n *\n * TDLib can be compiled to WebAssembly or asm.js using Emscripten compiler and used in a browser from JavaScript.\n * This is a convenient wrapper for TDLib in a browser which controls TDLib instance creation, handles interaction\n * with TDLib and manages a filesystem for persistent TDLib data.\n * TDLib instance is created in a Web Worker to run it in a separate thread.\n * TdClient just sends queries to the Web Worker and receives updates and results from it.\n * <br>\n * <br>\n * Differences from the TDLib JSON API:<br>\n * 1. Added the update <code>updateFatalError error:string = Update;</code> which is sent whenever TDLib encounters a fatal error.<br>\n * 2. Added the method <code>setJsLogVerbosityLevel new_verbosity_level:string = Ok;</code>, which allows to change the verbosity level of tdweb logging.<br>\n * 3. Added the possibility to use blobs as input files via the constructor <code>inputFileBlob data:<JavaScript blob> = InputFile;</code>.<br>\n * 4. The class <code>filePart</code> contains data as a JavaScript blob instead of a base64-encoded string.<br>\n * 5. The methods <code>getStorageStatistics</code>, <code>getStorageStatisticsFast</code>, <code>optimizeStorage</code>, <code>addProxy</code> and <code>getFileDownloadedPrefixSize</code> are not supported.<br>\n * <br>\n */\n\n\nvar src_TdClient =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @callback TdClient~updateCallback\n   * @param {Object} update The update.\n   */\n\n  /**\n   * Create TdClient.\n   * @param {Object} options - Options for TDLib instance creation.\n   * @param {TdClient~updateCallback} options.onUpdate - Callback for all incoming updates.\n   * @param {string} [options.instanceName=tdlib] - Name of the TDLib instance. Currently only one instance of TdClient with a given name is allowed. All but one instances with the same name will be automatically closed. Usually, the newest non-background instance is kept alive. Files will be stored in an IndexedDb table with the same name.\n   * @param {boolean} [options.isBackground=false] - Pass true, if the instance is opened from the background.\n   * @param {string} [options.jsLogVerbosityLevel=info] - The initial verbosity level of the JavaScript part of the code (one of 'error', 'warning', 'info', 'log', 'debug').\n   * @param {number} [options.logVerbosityLevel=2] - The initial verbosity level for the TDLib internal logging (0-1023).\n   * @param {boolean} [options.useDatabase=true] - Pass false to use TDLib without database and secret chats. It will significantly improve loading time, but some functionality will be unavailable.\n   * @param {boolean} [options.readOnly=false] - For debug only. Pass true to open TDLib database in read-only mode\n   * @param {string} [options.mode=auto] - For debug only. The type of the TDLib build to use. 'asmjs' for asm.js and 'wasm' for WebAssembly. If mode == 'auto' WebAbassembly will be used if supported by browser, asm.js otherwise.\n   */\n  function TdClient(options) {\n    var _this = this;\n\n    classCallCheck_default()(this, TdClient);\n\n    logger.setVerbosity(options.jsLogVerbosityLevel);\n    this.worker = new worker_default.a();\n\n    this.worker.onmessage = function (e) {\n      _this.onResponse(e.data);\n    };\n\n    this.query_id = 0;\n    this.query_callbacks = new Map();\n\n    if ('onUpdate' in options) {\n      this.onUpdate = options.onUpdate;\n      delete options.onUpdate;\n    }\n\n    options.instanceName = options.instanceName || 'tdlib';\n    this.fileManager = new src_FileManager(options.instanceName, this);\n    this.worker.postMessage({\n      '@type': 'init',\n      options: options\n    });\n    this.closeOtherClients(options);\n  }\n  /**\n   * Send a query to TDLib.\n   *\n   * If the query contains the field '@extra', the same field will be added into the result.\n   *\n   * @param {Object} query - The query for TDLib. See the [td_api.tl]{@link https://github.com/tdlib/td/blob/master/td/generate/scheme/td_api.tl} scheme or\n   *                         the automatically generated [HTML documentation]{@link https://core.telegram.org/tdlib/docs/td__api_8h.html}\n   *                         for a list of all available TDLib [methods]{@link https://core.telegram.org/tdlib/docs/classtd_1_1td__api_1_1_function.html} and\n   *                         [classes]{@link https://core.telegram.org/tdlib/docs/classtd_1_1td__api_1_1_object.html}.\n   * @returns {Promise} Promise object represents the result of the query.\n   */\n\n\n  createClass_default()(TdClient, [{\n    key: \"send\",\n    value: function send(query) {\n      return this.doSend(query, true);\n    }\n    /** @private */\n\n  }, {\n    key: \"sendInternal\",\n    value: function sendInternal(query) {\n      return this.doSend(query, false);\n    }\n    /** @private */\n\n  }, {\n    key: \"doSend\",\n    value: function doSend(query, isExternal) {\n      var _this2 = this;\n\n      this.query_id++;\n\n      if (query['@extra']) {\n        query['@extra'] = {\n          '@old_extra': JSON.parse(JSON.stringify(query['@extra'])),\n          query_id: this.query_id\n        };\n      } else {\n        query['@extra'] = {\n          query_id: this.query_id\n        };\n      }\n\n      if (query['@type'] === 'setJsLogVerbosityLevel') {\n        logger.setVerbosity(query.new_verbosity_level);\n      }\n\n      logger.debug('send to worker: ', query);\n      var res = new Promise(function (resolve, reject) {\n        _this2.query_callbacks.set(_this2.query_id, [resolve, reject]);\n      });\n\n      if (isExternal) {\n        this.externalPostMessage(query);\n      } else {\n        this.worker.postMessage(query);\n      }\n\n      return res;\n    }\n    /** @private */\n\n  }, {\n    key: \"externalPostMessage\",\n    value: function externalPostMessage(query) {\n      var unsupportedMethods = ['getStorageStatistics', 'getStorageStatisticsFast', 'optimizeStorage', 'addProxy', 'init', 'start'];\n\n      if (unsupportedMethods.includes(query['@type'])) {\n        this.onResponse({\n          '@type': 'error',\n          '@extra': query['@extra'],\n          code: 400,\n          message: \"Method '\" + query['@type'] + \"' is not supported\"\n        });\n        return;\n      }\n\n      if (query['@type'] === 'readFile' || query['@type'] === 'readFilePart') {\n        this.readFile(query);\n        return;\n      }\n\n      if (query['@type'] === 'deleteFile') {\n        this.deleteFile(query);\n        return;\n      }\n\n      this.worker.postMessage(query);\n    }\n    /** @private */\n\n  }, {\n    key: \"readFile\",\n    value: function () {\n      var _readFile = asyncToGenerator_default()(\n      /*#__PURE__*/\n      regenerator_default.a.mark(function _callee(query) {\n        var response;\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.fileManager.readFile(query);\n\n              case 2:\n                response = _context.sent;\n                this.onResponse(response);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function readFile(_x) {\n        return _readFile.apply(this, arguments);\n      }\n\n      return readFile;\n    }()\n    /** @private */\n\n  }, {\n    key: \"deleteFile\",\n    value: function () {\n      var _deleteFile = asyncToGenerator_default()(\n      /*#__PURE__*/\n      regenerator_default.a.mark(function _callee2(query) {\n        var response;\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                response = this.fileManager.deleteFile(query);\n                _context2.prev = 1;\n\n                if (!response.idb_key) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _context2.next = 5;\n                return this.sendInternal({\n                  '@type': 'deleteIdbKey',\n                  idb_key: response.idb_key\n                });\n\n              case 5:\n                delete response.idb_key;\n\n              case 6:\n                _context2.next = 8;\n                return this.sendInternal({\n                  '@type': 'deleteFile',\n                  file_id: query.file_id\n                });\n\n              case 8:\n                _context2.next = 12;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](1);\n\n              case 12:\n                this.onResponse(response);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 10]]);\n      }));\n\n      function deleteFile(_x2) {\n        return _deleteFile.apply(this, arguments);\n      }\n\n      return deleteFile;\n    }()\n    /** @private */\n\n  }, {\n    key: \"onResponse\",\n    value: function onResponse(response) {\n      logger.debug('receive from worker: ', JSON.parse(JSON.stringify(response, function (key, value) {\n        if (key === 'arr') {\n          return undefined;\n        }\n\n        return value;\n      }))); // for FileManager\n\n      response = this.prepareResponse(response);\n\n      if ('@extra' in response) {\n        var query_id = response['@extra'].query_id;\n\n        var _this$query_callbacks = this.query_callbacks.get(query_id),\n            _this$query_callbacks2 = slicedToArray_default()(_this$query_callbacks, 2),\n            resolve = _this$query_callbacks2[0],\n            reject = _this$query_callbacks2[1];\n\n        this.query_callbacks[\"delete\"](query_id);\n\n        if ('@old_extra' in response['@extra']) {\n          response['@extra'] = response['@extra']['@old_extra'];\n        }\n\n        if (resolve) {\n          if (response['@type'] === 'error') {\n            reject(response);\n          } else {\n            resolve(response);\n          }\n        }\n      } else {\n        if (response['@type'] === 'inited') {\n          this.onInited();\n          return;\n        }\n\n        if (response['@type'] === 'fsInited') {\n          this.onFsInited();\n          return;\n        }\n\n        if (response['@type'] === 'updateAuthorizationState' && response.authorization_state['@type'] === 'authorizationStateClosed') {\n          this.onClosed();\n        }\n\n        this.onUpdate(response);\n      }\n    }\n    /** @private */\n\n  }, {\n    key: \"prepareFile\",\n    value: function prepareFile(file) {\n      return this.fileManager.registerFile(file);\n    }\n    /** @private */\n\n  }, {\n    key: \"prepareResponse\",\n    value: function prepareResponse(response) {\n      var _this3 = this;\n\n      if (response['@type'] === 'file') {\n        if (false) {}\n\n        return this.prepareFile(response);\n      }\n\n      for (var key in response) {\n        var field = response[key];\n\n        if (field && typeof_default()(field) === 'object') {\n          response[key] = this.prepareResponse(field);\n        }\n      }\n\n      return response;\n    }\n    /** @private */\n\n  }, {\n    key: \"onBroadcastMessage\",\n    value: function onBroadcastMessage(e) {\n      //const message = e.data;\n      var message = e;\n\n      if (message.uid === this.uid) {\n        logger.info('ignore self broadcast message: ', message);\n        return;\n      }\n\n      logger.info('got broadcast message: ', message);\n\n      if (message.isBackground && !this.isBackground) {// continue\n      } else if (!message.isBackground && this.isBackground || message.timestamp > this.timestamp) {\n        this.close();\n        return;\n      }\n\n      if (message.state === 'closed') {\n        this.waitSet[\"delete\"](message.uid);\n\n        if (this.waitSet.size === 0) {\n          logger.info('onWaitSetEmpty');\n          this.onWaitSetEmpty();\n\n          this.onWaitSetEmpty = function () {};\n        }\n      } else {\n        this.waitSet.add(message.uid);\n\n        if (message.state !== 'closing') {\n          this.postState();\n        }\n      }\n    }\n    /** @private */\n\n  }, {\n    key: \"postState\",\n    value: function postState() {\n      var state = {\n        uid: this.uid,\n        state: this.state,\n        timestamp: this.timestamp,\n        isBackground: this.isBackground\n      };\n      logger.info('Post state: ', state);\n      this.channel.postMessage(state);\n    }\n    /** @private */\n\n  }, {\n    key: \"onWaitSetEmpty\",\n    value: function onWaitSetEmpty() {} // nop\n\n    /** @private */\n\n  }, {\n    key: \"onFsInited\",\n    value: function onFsInited() {\n      this.fileManager.init();\n    }\n    /** @private */\n\n  }, {\n    key: \"onInited\",\n    value: function onInited() {\n      this.isInited = true;\n      this.doSendStart();\n    }\n    /** @private */\n\n  }, {\n    key: \"sendStart\",\n    value: function sendStart() {\n      this.wantSendStart = true;\n      this.doSendStart();\n    }\n    /** @private */\n\n  }, {\n    key: \"doSendStart\",\n    value: function doSendStart() {\n      if (!this.isInited || !this.wantSendStart || this.state !== 'start') {\n        return;\n      }\n\n      this.wantSendStart = false;\n      this.state = 'active';\n      var query = {\n        '@type': 'start'\n      };\n      logger.info('send to worker: ', query);\n      this.worker.postMessage(query);\n    }\n    /** @private */\n\n  }, {\n    key: \"onClosed\",\n    value: function onClosed() {\n      this.isClosing = true;\n      this.worker.terminate();\n      logger.info('worker is terminated');\n      this.state = 'closed';\n      this.postState();\n    }\n    /** @private */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this.isClosing) {\n        return;\n      }\n\n      this.isClosing = true;\n      logger.info('close state: ', this.state);\n\n      if (this.state === 'start') {\n        this.onClosed();\n        this.onUpdate({\n          '@type': 'updateAuthorizationState',\n          authorization_state: {\n            '@type': 'authorizationStateClosed'\n          }\n        });\n        return;\n      }\n\n      var query = {\n        '@type': 'close'\n      };\n      logger.info('send to worker: ', query);\n      this.worker.postMessage(query);\n      this.state = 'closing';\n      this.postState();\n    }\n    /** @private */\n\n  }, {\n    key: \"closeOtherClients\",\n    value: function () {\n      var _closeOtherClients = asyncToGenerator_default()(\n      /*#__PURE__*/\n      regenerator_default.a.mark(function _callee4(options) {\n        var _this4 = this;\n\n        return regenerator_default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.uid = v4_default()();\n                this.state = 'start';\n                this.isBackground = !!options.isBackground;\n                this.timestamp = Date.now();\n                this.waitSet = new Set();\n                logger.info('close other clients');\n                this.channel = new es(options.instanceName, {\n                  webWorkerSupport: false\n                });\n                this.postState();\n\n                this.channel.onmessage = function (message) {\n                  _this4.onBroadcastMessage(message);\n                };\n\n                _context4.next = 11;\n                return src_sleep(300);\n\n              case 11:\n                if (!(this.waitSet.size !== 0)) {\n                  _context4.next = 14;\n                  break;\n                }\n\n                _context4.next = 14;\n                return new Promise(function (resolve) {\n                  _this4.onWaitSetEmpty = resolve;\n                });\n\n              case 14:\n                this.sendStart();\n\n              case 15:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function closeOtherClients(_x3) {\n        return _closeOtherClients.apply(this, arguments);\n      }\n\n      return closeOtherClients;\n    }()\n    /** @private */\n\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(update) {\n      logger.info('ignore onUpdate'); //nop\n    }\n  }]);\n\n  return TdClient;\n}();\n/** @private */\n\n\nvar src_ListNode =\n/*#__PURE__*/\nfunction () {\n  function ListNode(value) {\n    classCallCheck_default()(this, ListNode);\n\n    this.value = value;\n    this.clear();\n  }\n\n  createClass_default()(ListNode, [{\n    key: \"erase\",\n    value: function erase() {\n      this.prev.connect(this.next);\n      this.clear();\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.prev = this;\n      this.next = this;\n    }\n  }, {\n    key: \"connect\",\n    value: function connect(other) {\n      this.next = other;\n      other.prev = this;\n    }\n  }, {\n    key: \"onUsed\",\n    value: function onUsed(other) {\n      other.usedAt = Date.now();\n      other.erase();\n      other.connect(this.next);\n      logger.debug('LRU: used file_id: ', other.value);\n      this.connect(other);\n    }\n  }, {\n    key: \"getLru\",\n    value: function getLru() {\n      if (this === this.next) {\n        throw new Error('popLru from empty list');\n      }\n\n      return this.prev;\n    }\n  }]);\n\n  return ListNode;\n}();\n/** @private */\n\n\nvar src_FileManager =\n/*#__PURE__*/\nfunction () {\n  function FileManager(instanceName, client) {\n    classCallCheck_default()(this, FileManager);\n\n    this.instanceName = instanceName;\n    this.cache = new Map();\n    this.pending = [];\n    this.transaction_id = 0;\n    this.totalSize = 0;\n    this.lru = new src_ListNode(-1);\n    this.client = client;\n  }\n\n  createClass_default()(FileManager, [{\n    key: \"init\",\n    value: function init() {\n      var _this5 = this;\n\n      this.idb = new Promise(function (resolve, reject) {\n        var request = window.indexedDB.open(_this5.instanceName);\n\n        request.onsuccess = function () {\n          return resolve(request.result);\n        };\n\n        request.onerror = function () {\n          return reject(request.error);\n        };\n      }); //this.store = localforage.createInstance({\n      //name: instanceName\n      //});\n\n      this.isInited = true;\n    }\n  }, {\n    key: \"unload\",\n    value: function unload(info) {\n      if (info.arr) {\n        logger.debug('LRU: delete file_id: ', info.node.value, ' with arr.length: ', info.arr.length);\n        this.totalSize -= info.arr.length;\n        delete info.arr;\n      }\n\n      if (info.node) {\n        info.node.erase();\n        delete info.node;\n      }\n    }\n  }, {\n    key: \"registerFile\",\n    value: function registerFile(file) {\n      if (file.idb_key || file.arr) {\n        file.local.is_downloading_completed = true;\n      } else {\n        file.local.is_downloading_completed = false;\n      }\n\n      var info = {};\n      var cached_info = this.cache.get(file.id);\n\n      if (cached_info) {\n        info = cached_info;\n      } else {\n        this.cache.set(file.id, info);\n      }\n\n      if (file.idb_key) {\n        info.idb_key = file.idb_key;\n        delete file.idb_key;\n      } else {\n        delete info.idb_key;\n      }\n\n      if (file.arr) {\n        var now = Date.now();\n\n        while (this.totalSize > 100000000) {\n          var node = this.lru.getLru(); // immunity for 60 seconds\n\n          if (node.usedAt + 60 * 1000 > now) {\n            break;\n          }\n\n          var lru_info = this.cache.get(node.value);\n          this.unload(lru_info);\n        }\n\n        if (info.arr) {\n          logger.warn('Got file.arr at least twice for the same file');\n          this.totalSize -= info.arr.length;\n        }\n\n        info.arr = file.arr;\n        delete file.arr;\n        this.totalSize += info.arr.length;\n\n        if (!info.node) {\n          logger.debug('LRU: create file_id: ', file.id, ' with arr.length: ', info.arr.length);\n          info.node = new src_ListNode(file.id);\n        }\n\n        this.lru.onUsed(info.node);\n        logger.info('Total file.arr size: ', this.totalSize);\n      }\n\n      info.file = file;\n      return file;\n    }\n  }, {\n    key: \"flushLoad\",\n    value: function () {\n      var _flushLoad = asyncToGenerator_default()(\n      /*#__PURE__*/\n      regenerator_default.a.mark(function _callee5() {\n        var pending, idb, transaction_id, read, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _loop, _iterator, _step;\n\n        return regenerator_default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                pending = this.pending;\n                this.pending = [];\n                _context5.next = 4;\n                return this.idb;\n\n              case 4:\n                idb = _context5.sent;\n                transaction_id = this.transaction_id++;\n                read = idb.transaction(['keyvaluepairs'], 'readonly').objectStore('keyvaluepairs');\n                logger.debug('Load group of files from idb', pending.length);\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context5.prev = 11;\n\n                _loop = function _loop() {\n                  var query = _step.value;\n                  var request = read.get(query.key);\n\n                  request.onsuccess = function (event) {\n                    var blob = event.target.result;\n\n                    if (blob) {\n                      if (blob.size === 0) {\n                        logger.error('Got empty blob from db ', query.key);\n                      }\n\n                      query.resolve({\n                        data: blob,\n                        transaction_id: transaction_id\n                      });\n                    } else {\n                      query.reject();\n                    }\n                  };\n\n                  request.onerror = function () {\n                    return query.reject(request.error);\n                  };\n                };\n\n                for (_iterator = pending[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  _loop();\n                }\n\n                _context5.next = 20;\n                break;\n\n              case 16:\n                _context5.prev = 16;\n                _context5.t0 = _context5[\"catch\"](11);\n                _didIteratorError = true;\n                _iteratorError = _context5.t0;\n\n              case 20:\n                _context5.prev = 20;\n                _context5.prev = 21;\n\n                if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                  _iterator[\"return\"]();\n                }\n\n              case 23:\n                _context5.prev = 23;\n\n                if (!_didIteratorError) {\n                  _context5.next = 26;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 26:\n                return _context5.finish(23);\n\n              case 27:\n                return _context5.finish(20);\n\n              case 28:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[11, 16, 20, 28], [21,, 23, 27]]);\n      }));\n\n      function flushLoad() {\n        return _flushLoad.apply(this, arguments);\n      }\n\n      return flushLoad;\n    }()\n  }, {\n    key: \"load\",\n    value: function load(key, resolve, reject) {\n      var _this6 = this;\n\n      if (this.pending.length === 0) {\n        setTimeout(function () {\n          _this6.flushLoad();\n        }, 1);\n      }\n\n      this.pending.push({\n        key: key,\n        resolve: resolve,\n        reject: reject\n      });\n    }\n  }, {\n    key: \"doLoadFull\",\n    value: function () {\n      var _doLoadFull = asyncToGenerator_default()(\n      /*#__PURE__*/\n      regenerator_default.a.mark(function _callee6(info) {\n        var _this7 = this;\n\n        var idb_key;\n        return regenerator_default.a.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (!info.arr) {\n                  _context6.next = 2;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", {\n                  data: new Blob([info.arr]),\n                  transaction_id: -1\n                });\n\n              case 2:\n                if (!info.idb_key) {\n                  _context6.next = 7;\n                  break;\n                }\n\n                idb_key = info.idb_key; //return this.store.getItem(idb_key);\n\n                _context6.next = 6;\n                return new Promise(function (resolve, reject) {\n                  _this7.load(idb_key, resolve, reject);\n                });\n\n              case 6:\n                return _context6.abrupt(\"return\", _context6.sent);\n\n              case 7:\n                throw new Error('File is not loaded');\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function doLoadFull(_x4) {\n        return _doLoadFull.apply(this, arguments);\n      }\n\n      return doLoadFull;\n    }()\n  }, {\n    key: \"doLoad\",\n    value: function () {\n      var _doLoad = asyncToGenerator_default()(\n      /*#__PURE__*/\n      regenerator_default.a.mark(function _callee7(info, offset, size) {\n        var count, _res, res, data_size;\n\n        return regenerator_default.a.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!(!info.arr && !info.idb_key && info.file.local.path)) {\n                  _context7.next = 24;\n                  break;\n                }\n\n                _context7.prev = 1;\n                _context7.next = 4;\n                return this.client.sendInternal({\n                  '@type': 'getFileDownloadedPrefixSize',\n                  file_id: info.file.id,\n                  offset: offset\n                });\n\n              case 4:\n                count = _context7.sent;\n                logger.error(count, size);\n\n                if (size) {\n                  _context7.next = 10;\n                  break;\n                }\n\n                size = count.count;\n                _context7.next = 12;\n                break;\n\n              case 10:\n                if (!(size > count.count)) {\n                  _context7.next = 12;\n                  break;\n                }\n\n                throw new Error('File not loaded yet');\n\n              case 12:\n                _context7.next = 14;\n                return this.client.sendInternal({\n                  '@type': 'readFilePart',\n                  path: info.file.local.path,\n                  offset: offset,\n                  size: size\n                });\n\n              case 14:\n                _res = _context7.sent;\n                _res.data = new Blob([_res.data]);\n                _res.transaction_id = -2;\n                logger.error(_res);\n                return _context7.abrupt(\"return\", _res);\n\n              case 21:\n                _context7.prev = 21;\n                _context7.t0 = _context7[\"catch\"](1);\n                logger.info('readFilePart failed', info, offset, size, _context7.t0);\n\n              case 24:\n                _context7.next = 26;\n                return this.doLoadFull(info);\n\n              case 26:\n                res = _context7.sent;\n                // return slice(size, offset + size)\n                data_size = res.data.size;\n\n                if (!size) {\n                  size = data_size;\n                }\n\n                if (offset > data_size) {\n                  offset = data_size;\n                }\n\n                res.data = res.data.slice(offset, offset + size);\n                return _context7.abrupt(\"return\", res);\n\n              case 32:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[1, 21]]);\n      }));\n\n      function doLoad(_x5, _x6, _x7) {\n        return _doLoad.apply(this, arguments);\n      }\n\n      return doLoad;\n    }()\n  }, {\n    key: \"doDelete\",\n    value: function doDelete(info) {\n      this.unload(info);\n      return info.idb_key;\n    }\n  }, {\n    key: \"readFile\",\n    value: function () {\n      var _readFile2 = asyncToGenerator_default()(\n      /*#__PURE__*/\n      regenerator_default.a.mark(function _callee8(query) {\n        var info, response;\n        return regenerator_default.a.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n\n                if (this.isInited) {\n                  _context8.next = 3;\n                  break;\n                }\n\n                throw new Error('FileManager is not inited');\n\n              case 3:\n                info = this.cache.get(query.file_id);\n\n                if (info) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                throw new Error('File is not loaded');\n\n              case 6:\n                if (info.node) {\n                  this.lru.onUsed(info.node);\n                }\n\n                query.offset = query.offset || 0;\n                query.size = query.size || 0;\n                _context8.next = 11;\n                return this.doLoad(info, query.offset, query.size);\n\n              case 11:\n                response = _context8.sent;\n                return _context8.abrupt(\"return\", {\n                  '@type': 'filePart',\n                  '@extra': query['@extra'],\n                  data: response.data,\n                  transaction_id: response.transaction_id\n                });\n\n              case 15:\n                _context8.prev = 15;\n                _context8.t0 = _context8[\"catch\"](0);\n                return _context8.abrupt(\"return\", {\n                  '@type': 'error',\n                  '@extra': query['@extra'],\n                  code: 400,\n                  message: _context8.t0\n                });\n\n              case 18:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[0, 15]]);\n      }));\n\n      function readFile(_x8) {\n        return _readFile2.apply(this, arguments);\n      }\n\n      return readFile;\n    }()\n  }, {\n    key: \"deleteFile\",\n    value: function deleteFile(query) {\n      var res = {\n        '@type': 'ok',\n        '@extra': query['@extra']\n      };\n\n      try {\n        if (!this.isInited) {\n          throw new Error('FileManager is not inited');\n        }\n\n        var info = this.cache.get(query.file_id);\n\n        if (!info) {\n          throw new Error('File is not loaded');\n        }\n\n        var idb_key = this.doDelete(info);\n\n        if (idb_key) {\n          res.idb_key = idb_key;\n        }\n      } catch (e) {}\n\n      return res;\n    }\n  }]);\n\n  return FileManager;\n}();\n\n/* harmony default export */ var src = __webpack_exports__[\"default\"] = (src_TdClient);\n\n/***/ })\n/******/ ]);\n});\n\n//# sourceURL=webpack:///./src/js/tdweb.js?");

/***/ }),

/***/ "./src/js/utils.js":
/*!*************************!*\
  !*** ./src/js/utils.js ***!
  \*************************/
/*! exports provided: getOSName, getBrowser, isValidPhoneNumber, setCursorPosition, mask, parseTelephoneNumber */
/***/ (function(module, exports) {

eval("throw new Error(\"Module parse failed: Identifier 'OSName' has already been declared (3:5)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| export function getOSName() {\\n| \\tlet OSName = 'Unknown';\\n> \\tlet OSName = 'iOS';\\n| \\t// if (window.navigator.userAgent.indexOf('Windows NT 10.0') !== -1) OSName = 'Windows 10';\\n| \\t// if (window.navigator.userAgent.indexOf('Windows NT 6.2') !== -1) OSName = 'Windows 8';\");\n\n//# sourceURL=webpack:///./src/js/utils.js?");

/***/ }),

/***/ "./src/scss/main.scss":
/*!****************************!*\
  !*** ./src/scss/main.scss ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/scss/main.scss?");

/***/ })

/******/ });