!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){e.exports=n(13)},function(e,t){e.exports=!1},function(e,t){function n(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function s(e){n(i,o,a,s,c,"next",e)}function c(e){n(i,o,a,s,c,"throw",e)}s(void 0)}))}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){var r=n(10),o=n(11),a=n(12);e.exports=function(e,t){return r(e)||o(e,t)||a()}},function(e,t,n){e.exports=function(){return new Worker(n.p+"2380cfa0e562e148fa50.worker.js")}},function(e,t,n){var r=n(15),o=n(16);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[a+s]=i[s];return t||o(i)}},function(e,t,n){e.exports=n(17)},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),i=new C(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===f)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw a;return M()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=S(i,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?m:l,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",l="suspendedYield",f="executing",m="completed",h={};function p(){}function y(){}function v(){}var g={};g[a]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(P([])));b&&b!==n&&r.call(b,a)&&(g=b);var k=v.prototype=p.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e){var t;this._invoke=function(n,o){function a(){return new Promise((function(t,a){!function t(n,o,a,i){var s=u(e[n],e,o);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?Promise.resolve(d.__await).then((function(e){t("next",e,a,i)}),(function(e){t("throw",e,a,i)})):Promise.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return t("throw",e,a,i)}))}i(s.arg)}(n,o,t,a)}))}return t=t?t.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function P(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:M}}function M(){return{value:t,done:!0}}return y.prototype=k.constructor=v,v.constructor=y,v[s]=y.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},x(_.prototype),_.prototype[i]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,r,o){var a=new _(c(t,n,r,o));return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(k),k[s]="Generator",k[a]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";n.r(t);var r=n(5),o=n.n(r),a=n(6),i=n.n(a),s=n(0),c=n.n(s),u=n(2),d=n.n(u),l=n(3),f=n.n(l),m=n(4),h=n.n(m),p=n(7),y=n.n(p);function v(e){return e||(e=0),new Promise((function(t){return setTimeout(t,e)}))}function g(e){e||(e=5);for(var t="",n="abcdefghijklmnopqrstuvwxzy0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var w=0,b=0;function k(){var e=(new Date).getTime();return e===w?1e3*e+ ++b:(w=e,b=0,1e3*e)}var x=n(1),_=n.n(x),S={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){e.bc.postMessage(t,!1)},canBeUsed:function(){if(_.a&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 100},microSeconds:k},L=function(e){this.ttl=e,this.set=new Set,this.timeMap=new Map,this.has=this.set.has.bind(this.set)};function E(){return(new Date).getTime()}L.prototype={add:function(e){this.timeMap.set(e,E()),this.set.add(e),function(e){for(var t=E()-e.ttl,n=e.set[Symbol.iterator]();;){var r=n.next().value;if(!r)return;if(!(e.timeMap.get(r)<t))return;e.timeMap.delete(r),e.set.delete(r)}}(this)},clear:function(){this.set.clear(),this.timeMap.clear()}};var C=L;function P(e){return e||(e={}),void 0===(e=JSON.parse(JSON.stringify(e))).webWorkerSupport&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=45e3),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=6e4),e.node||(e.node={}),e.node.ttl||(e.node.ttl=12e4),void 0===e.node.useFastPath&&(e.node.useFastPath=!0),e}var M="pubkey.broadcast-channel-0-",O="messages";function I(){return"undefined"!=typeof indexedDB?indexedDB:void 0!==window.mozIndexedDB?window.mozIndexedDB:void 0!==window.webkitIndexedDB?window.webkitIndexedDB:void 0!==window.msIndexedDB&&window.msIndexedDB}function T(e,t){return function(e,t){var n=(new Date).getTime()-t,r=e.transaction(O).objectStore(O),o=[];return new Promise((function(e){r.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var a=r.value;if(!(a.time<n))return void e(o);o.push(a),r.continue()}else e(o)}}))}(e,t).then((function(t){return Promise.all(t.map((function(t){return function(e,t){var n=e.transaction([O],"readwrite").objectStore(O).delete(t);return new Promise((function(e){n.onsuccess=function(){return e()}}))}(e,t.id)})))}))}function N(e){return e.closed?Promise.resolve():e.messagesCallback?(t=e.db,n=e.lastCursorId,r=t.transaction(O).objectStore(O),o=[],a=IDBKeyRange.bound(n+1,1/0),new Promise((function(e){r.openCursor(a).onsuccess=function(t){var n=t.target.result;n?(o.push(n.value),n.continue()):e(o)}}))).then((function(t){return t.map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time})).forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),Promise.resolve()})):Promise.resolve();var t,n,r,o,a}var F="pubkey.broadcastChannel-";function B(e){return F+e}function j(){return!_.a&&!!function(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}()}var D=[S,{create:function(e,t){return t=P(t),function(e){var t=I(),n=M+e,r=t.open(n,1);return r.onupgradeneeded=function(e){e.target.result.createObjectStore(O,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){r.onerror=function(e){return t(e)},r.onsuccess=function(){e(r.result)}}))}(e).then((function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:g(10),eMIs:new C(2*t.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return function e(t){if(!t.closed)return N(t).then((function(){return v(t.options.idb.fallbackInterval)})).then((function(){return e(t)}))}(r),r}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,N(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},o=e.transaction([O],"readwrite");return new Promise((function(e,t){o.oncomplete=function(){return e()},o.onerror=function(e){return t(e)},o.objectStore(O).add(r)}))}(e.db,e.uuid,t)})).then((function(){var t,n;0===(t=0,n=10,Math.floor(Math.random()*(n-t+1)+t))&&T(e.db,e.options.idb.ttl)})),e.writeBlockPromise},canBeUsed:function(){return!_.a&&!!I()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:k},{create:function(e,t){if(t=P(t),!j())throw new Error("BroadcastChannel: localstorage cannot be used");var n=g(10),r=new C(t.localstorage.removeTimeout),o={channelName:e,uuid:n,eMIs:r};return o.listener=function(e,t){var n=B(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}(e,(function(e){o.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<o.messagesCallbackTime||(r.add(e.token),o.messagesCallback(e.data)))})),o},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){v().then((function(){var r=B(e.channelName),o={token:g(10),time:(new Date).getTime(),data:t,uuid:e.uuid},a=JSON.stringify(o);localStorage.setItem(r,a);var i=document.createEvent("Event");i.initEvent("storage",!0,!0),i.key=r,i.newValue=a,window.dispatchEvent(i),n()}))}))},canBeUsed:j,type:"localstorage",averageResponseTime:function(){return 120},microSeconds:k}];if(_.a){var A=n(14);"function"==typeof A.canBeUsed&&D.push(A)}function q(e){if(e.type){var t=D.find((function(t){return t.type===e.type}));if(t)return t;throw new Error("method-type "+e.type+" not found")}var n=D;e.webWorkerSupport||_.a||(n=D.filter((function(e){return"idb"!==e.type})));var r=n.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(D.map((function(e){return e.type}))))}var R=function(e,t){var n,r,o;this.name=e,this.options=P(t),this.method=q(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._befC=[],this._prepP=null,r=(n=this).method.create(n.name,n.options),(o=r)&&"function"==typeof o.then?(n._prepP=r,r.then((function(e){n._state=e}))):n._state=r};function U(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Promise.resolve()).then((function(){return e.method.postMessage(e._state,r)}))}function z(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function W(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&z(e)){var t=function(t){e._addEL[t.type].forEach((function(e){t.time>=e.time&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function V(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!z(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}R._pubkey=!0,R.clearNodeFolder=function(e){var t=q(e=P(e));return"node"===t.type?t.clearNodeFolder().then((function(){return!0})):Promise.resolve(!1)},R.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return U(this,"message",e)},postInternal:function(e){return U(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};V(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,W(this,"message",t)):this._onML=null},addEventListener:function(e,t){W(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){V(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){this.closed=!0;var t=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type}};var G=R,J=n(8),K=n.n(J),$=new(function(){function e(){f()(this,e),this.setVerbosity("WARNING")}return h()(e,[{key:"debug",value:function(){var e;this.checkVerbosity(4)&&(e=console).log.apply(e,arguments)}},{key:"log",value:function(){var e;this.checkVerbosity(4)&&(e=console).log.apply(e,arguments)}},{key:"info",value:function(){var e;this.checkVerbosity(3)&&(e=console).info.apply(e,arguments)}},{key:"warn",value:function(){var e;this.checkVerbosity(2)&&(e=console).warn.apply(e,arguments)}},{key:"error",value:function(){var e;this.checkVerbosity(1)&&(e=console).error.apply(e,arguments)}},{key:"setVerbosity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";void 0===e&&(e=t),"string"==typeof e&&(e={ERROR:1,WARNING:2,INFO:3,LOG:4,DEBUG:4}[e.toUpperCase()]||2),this.level=e}},{key:"checkVerbosity",value:function(e){return this.level>=e}}]),e}()),H=function(e){return new Promise((function(t){return setTimeout(t,e)}))},X=function(){function e(t){var n=this;f()(this,e),$.setVerbosity(t.jsLogVerbosityLevel),this.worker=new y.a,this.worker.onmessage=function(e){n.onResponse(e.data)},this.query_id=0,this.query_callbacks=new Map,"onUpdate"in t&&(this.onUpdate=t.onUpdate,delete t.onUpdate),t.instanceName=t.instanceName||"tdlib",this.fileManager=new Q(t.instanceName,this),this.worker.postMessage({"@type":"init",options:t}),this.closeOtherClients(t)}var t,n,r;return h()(e,[{key:"send",value:function(e){return this.doSend(e,!0)}},{key:"sendInternal",value:function(e){return this.doSend(e,!1)}},{key:"doSend",value:function(e,t){var n=this;this.query_id++,e["@extra"]?e["@extra"]={"@old_extra":JSON.parse(JSON.stringify(e["@extra"])),query_id:this.query_id}:e["@extra"]={query_id:this.query_id},"setJsLogVerbosityLevel"===e["@type"]&&$.setVerbosity(e.new_verbosity_level),$.debug("send to worker: ",e);var r=new Promise((function(e,t){n.query_callbacks.set(n.query_id,[e,t])}));return t?this.externalPostMessage(e):this.worker.postMessage(e),r}},{key:"externalPostMessage",value:function(e){["getStorageStatistics","getStorageStatisticsFast","optimizeStorage","addProxy","init","start"].includes(e["@type"])?this.onResponse({"@type":"error","@extra":e["@extra"],code:400,message:"Method '"+e["@type"]+"' is not supported"}):"readFile"!==e["@type"]&&"readFilePart"!==e["@type"]?"deleteFile"!==e["@type"]?this.worker.postMessage(e):this.deleteFile(e):this.readFile(e)}},{key:"readFile",value:(r=d()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fileManager.readFile(t);case 2:n=e.sent,this.onResponse(n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"deleteFile",value:(n=d()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.fileManager.deleteFile(t),e.prev=1,!n.idb_key){e.next=6;break}return e.next=5,this.sendInternal({"@type":"deleteIdbKey",idb_key:n.idb_key});case 5:delete n.idb_key;case 6:return e.next=8,this.sendInternal({"@type":"deleteFile",file_id:t.file_id});case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:this.onResponse(n);case 13:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(e){return n.apply(this,arguments)})},{key:"onResponse",value:function(e){if($.debug("receive from worker: ",JSON.parse(JSON.stringify(e,(function(e,t){if("arr"!==e)return t})))),"@extra"in(e=this.prepareResponse(e))){var t=e["@extra"].query_id,n=this.query_callbacks.get(t),r=i()(n,2),o=r[0],a=r[1];this.query_callbacks.delete(t),"@old_extra"in e["@extra"]&&(e["@extra"]=e["@extra"]["@old_extra"]),o&&("error"===e["@type"]?a(e):o(e))}else{if("inited"===e["@type"])return void this.onInited();if("fsInited"===e["@type"])return void this.onFsInited();"updateAuthorizationState"===e["@type"]&&"authorizationStateClosed"===e.authorization_state["@type"]&&this.onClosed(),this.onUpdate(e)}}},{key:"prepareFile",value:function(e){return this.fileManager.registerFile(e)}},{key:"prepareResponse",value:function(e){if("file"===e["@type"])return this.prepareFile(e);for(var t in e){var n=e[t];n&&"object"===o()(n)&&(e[t]=this.prepareResponse(n))}return e}},{key:"onBroadcastMessage",value:function(e){var t=e;if(t.uid!==this.uid){if($.info("got broadcast message: ",t),t.isBackground&&!this.isBackground);else if(!t.isBackground&&this.isBackground||t.timestamp>this.timestamp)return void this.close();"closed"===t.state?(this.waitSet.delete(t.uid),0===this.waitSet.size&&($.info("onWaitSetEmpty"),this.onWaitSetEmpty(),this.onWaitSetEmpty=function(){})):(this.waitSet.add(t.uid),"closing"!==t.state&&this.postState())}else $.info("ignore self broadcast message: ",t)}},{key:"postState",value:function(){var e={uid:this.uid,state:this.state,timestamp:this.timestamp,isBackground:this.isBackground};$.info("Post state: ",e),this.channel.postMessage(e)}},{key:"onWaitSetEmpty",value:function(){}},{key:"onFsInited",value:function(){this.fileManager.init()}},{key:"onInited",value:function(){this.isInited=!0,this.doSendStart()}},{key:"sendStart",value:function(){this.wantSendStart=!0,this.doSendStart()}},{key:"doSendStart",value:function(){if(this.isInited&&this.wantSendStart&&"start"===this.state){this.wantSendStart=!1,this.state="active";var e={"@type":"start"};$.info("send to worker: ",e),this.worker.postMessage(e)}}},{key:"onClosed",value:function(){this.isClosing=!0,this.worker.terminate(),$.info("worker is terminated"),this.state="closed",this.postState()}},{key:"close",value:function(){if(!this.isClosing){if(this.isClosing=!0,$.info("close state: ",this.state),"start"===this.state)return this.onClosed(),void this.onUpdate({"@type":"updateAuthorizationState",authorization_state:{"@type":"authorizationStateClosed"}});var e={"@type":"close"};$.info("send to worker: ",e),this.worker.postMessage(e),this.state="closing",this.postState()}}},{key:"closeOtherClients",value:(t=d()(c.a.mark((function e(t){var n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.uid=K()(),this.state="start",this.isBackground=!!t.isBackground,this.timestamp=Date.now(),this.waitSet=new Set,$.info("close other clients"),this.channel=new G(t.instanceName,{webWorkerSupport:!1}),this.postState(),this.channel.onmessage=function(e){n.onBroadcastMessage(e)},e.next=11,H(300);case 11:if(0===this.waitSet.size){e.next=14;break}return e.next=14,new Promise((function(e){n.onWaitSetEmpty=e}));case 14:this.sendStart();case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onUpdate",value:function(e){$.info("ignore onUpdate")}}]),e}(),Y=function(){function e(t){f()(this,e),this.value=t,this.clear()}return h()(e,[{key:"erase",value:function(){this.prev.connect(this.next),this.clear()}},{key:"clear",value:function(){this.prev=this,this.next=this}},{key:"connect",value:function(e){this.next=e,e.prev=this}},{key:"onUsed",value:function(e){e.usedAt=Date.now(),e.erase(),e.connect(this.next),$.debug("LRU: used file_id: ",e.value),this.connect(e)}},{key:"getLru",value:function(){if(this===this.next)throw new Error("popLru from empty list");return this.prev}}]),e}(),Q=function(){function e(t,n){f()(this,e),this.instanceName=t,this.cache=new Map,this.pending=[],this.transaction_id=0,this.totalSize=0,this.lru=new Y(-1),this.client=n}var t,n,r,o;return h()(e,[{key:"init",value:function(){var e=this;this.idb=new Promise((function(t,n){var r=window.indexedDB.open(e.instanceName);r.onsuccess=function(){return t(r.result)},r.onerror=function(){return n(r.error)}})),this.isInited=!0}},{key:"unload",value:function(e){e.arr&&($.debug("LRU: delete file_id: ",e.node.value," with arr.length: ",e.arr.length),this.totalSize-=e.arr.length,delete e.arr),e.node&&(e.node.erase(),delete e.node)}},{key:"registerFile",value:function(e){e.idb_key||e.arr?e.local.is_downloading_completed=!0:e.local.is_downloading_completed=!1;var t={},n=this.cache.get(e.id);if(n?t=n:this.cache.set(e.id,t),e.idb_key?(t.idb_key=e.idb_key,delete e.idb_key):delete t.idb_key,e.arr){for(var r=Date.now();this.totalSize>1e8;){var o=this.lru.getLru();if(o.usedAt+6e4>r)break;var a=this.cache.get(o.value);this.unload(a)}t.arr&&($.warn("Got file.arr at least twice for the same file"),this.totalSize-=t.arr.length),t.arr=e.arr,delete e.arr,this.totalSize+=t.arr.length,t.node||($.debug("LRU: create file_id: ",e.id," with arr.length: ",t.arr.length),t.node=new Y(e.id)),this.lru.onUsed(t.node),$.info("Total file.arr size: ",this.totalSize)}return t.file=e,e}},{key:"flushLoad",value:(o=d()(c.a.mark((function e(){var t,n,r,o,a,i,s,u,d,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.pending,this.pending=[],e.next=4,this.idb;case 4:for(n=e.sent,r=this.transaction_id++,o=n.transaction(["keyvaluepairs"],"readonly").objectStore("keyvaluepairs"),$.debug("Load group of files from idb",t.length),a=!0,i=!1,s=void 0,e.prev=11,u=function(){var e=l.value,t=o.get(e.key);t.onsuccess=function(t){var n=t.target.result;n?(0===n.size&&$.error("Got empty blob from db ",e.key),e.resolve({data:n,transaction_id:r})):e.reject()},t.onerror=function(){return e.reject(t.error)}},d=t[Symbol.iterator]();!(a=(l=d.next()).done);a=!0)u();e.next=20;break;case 16:e.prev=16,e.t0=e.catch(11),i=!0,s=e.t0;case 20:e.prev=20,e.prev=21,a||null==d.return||d.return();case 23:if(e.prev=23,!i){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,this,[[11,16,20,28],[21,,23,27]])}))),function(){return o.apply(this,arguments)})},{key:"load",value:function(e,t,n){var r=this;0===this.pending.length&&setTimeout((function(){r.flushLoad()}),1),this.pending.push({key:e,resolve:t,reject:n})}},{key:"doLoadFull",value:(r=d()(c.a.mark((function e(t){var n,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.arr){e.next=2;break}return e.abrupt("return",{data:new Blob([t.arr]),transaction_id:-1});case 2:if(!t.idb_key){e.next=7;break}return n=t.idb_key,e.next=6,new Promise((function(e,t){r.load(n,e,t)}));case 6:return e.abrupt("return",e.sent);case 7:throw new Error("File is not loaded");case 8:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"doLoad",value:(n=d()(c.a.mark((function e(t,n,r){var o,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.arr||t.idb_key||!t.file.local.path){e.next=24;break}return e.prev=1,e.next=4,this.client.sendInternal({"@type":"getFileDownloadedPrefixSize",file_id:t.file.id,offset:n});case 4:if(o=e.sent,$.error(o,r),r){e.next=10;break}r=o.count,e.next=12;break;case 10:if(!(r>o.count)){e.next=12;break}throw new Error("File not loaded yet");case 12:return e.next=14,this.client.sendInternal({"@type":"readFilePart",path:t.file.local.path,offset:n,size:r});case 14:return(a=e.sent).data=new Blob([a.data]),a.transaction_id=-2,$.error(a),e.abrupt("return",a);case 21:e.prev=21,e.t0=e.catch(1),$.info("readFilePart failed",t,n,r,e.t0);case 24:return e.next=26,this.doLoadFull(t);case 26:return i=e.sent,s=i.data.size,r||(r=s),n>s&&(n=s),i.data=i.data.slice(n,n+r),e.abrupt("return",i);case 32:case"end":return e.stop()}}),e,this,[[1,21]])}))),function(e,t,r){return n.apply(this,arguments)})},{key:"doDelete",value:function(e){return this.unload(e),e.idb_key}},{key:"readFile",value:(t=d()(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.isInited){e.next=3;break}throw new Error("FileManager is not inited");case 3:if(n=this.cache.get(t.file_id)){e.next=6;break}throw new Error("File is not loaded");case 6:return n.node&&this.lru.onUsed(n.node),t.offset=t.offset||0,t.size=t.size||0,e.next=11,this.doLoad(n,t.offset,t.size);case 11:return r=e.sent,e.abrupt("return",{"@type":"filePart","@extra":t["@extra"],data:r.data,transaction_id:r.transaction_id});case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{"@type":"error","@extra":t["@extra"],code:400,message:e.t0});case 18:case"end":return e.stop()}}),e,this,[[0,15]])}))),function(e){return t.apply(this,arguments)})},{key:"deleteFile",value:function(e){var t={"@type":"ok","@extra":e["@extra"]};try{if(!this.isInited)throw new Error("FileManager is not inited");var n=this.cache.get(e.file_id);if(!n)throw new Error("File is not loaded");var r=this.doDelete(n);r&&(t.idb_key=r)}catch(e){}return t}}]),e}();t.default=X}])},e.exports=r()},function(e,t,n){},function(e,t,n){"use strict";n.r(t);class r{init(e){this.container=e,this.render()}render(){this.container.innerHTML=r.markup()}static markup(){return'\n      <section class="code-section">\n        <div class="code-container">\n          <img class="code-monkey" src="./assets/img/Login_6_Code@2x_Monkey.png" alt="Telegram">\n          <h2 class="code-telephone">\n            <span class="number">+7 926 073 71 71</span>\n            <img class="icon" src="./assets/img/edit_svg.svg" alt="">\n          </h2>\n          <p class="login-text">We have sent you an SMS <br> with the code</p>\n          <div class="tl-input empty">\n            <input type="number">\n            <label class="placeholder">Code</label>\n          </div>\n        </div>\n      </section>\n    '}constructor(e){this.init(e)}}document.componentRegistry={},document.nextId=0;function o(){let e="Unknown";return-1!==window.navigator.userAgent.indexOf("Windows NT 10.0")&&(e="Windows 10"),-1!==window.navigator.userAgent.indexOf("Windows NT 6.2")&&(e="Windows 8"),-1!==window.navigator.userAgent.indexOf("Windows NT 6.1")&&(e="Windows 7"),-1!==window.navigator.userAgent.indexOf("Windows NT 6.0")&&(e="Windows Vista"),-1!==window.navigator.userAgent.indexOf("Windows NT 5.1")&&(e="Windows XP"),-1!==window.navigator.userAgent.indexOf("Windows NT 5.0")&&(e="Windows 2000"),-1!==window.navigator.userAgent.indexOf("Mac")&&(e="Mac/iOS"),-1!==window.navigator.userAgent.indexOf("X11")&&(e="UNIX"),-1!==window.navigator.userAgent.indexOf("Linux")&&(e="Linux"),e}function a(){let e="",t=!!!document.documentMode&&!!window.StyleMedia;return e=-1===navigator.userAgent.indexOf("Chrome")||t?-1===navigator.userAgent.indexOf("Safari")||t?-1!==navigator.userAgent.indexOf("Firefox")?"Firefox":-1!==navigator.userAgent.indexOf("MSIE")||!0==!!document.documentMode?"IE":t?"Edge":"Unknown":"Safari":"Chrome"}function i(e){if(!e)return!1;let t=!e.match(/^[\d\-+\s]+$/);return t||(e=e.replace(/\D/g,"")).length<7&&(t=!0),!t}function s(e){return e.replace(/\s/g,"").replace(/\(/g,"").replace(/\)/g,"")}var c=n(0),u=n.n(c);const d={id:1193467,hash:"3a09d4c0350101454cfac7d7e7621773"},{verbosity:l,jsVerbosity:f,useTestDC:m,readOnly:h,fastUpdating:p,useDatabase:y,mode:v}={useTestDC:!1,readOnly:!1,verbosity:1,jsVerbosity:3,fastUpdating:!0,useDatabase:!1,mode:"wasm"},g={logVerbosityLevel:l,jsLogVerbosityLevel:f,mode:v,prefix:m?"tdlib_test":"tdlib",readOnly:h,isBackground:!1,useDatabase:y,wasmUrl:"b4b0d61282108a31908dd6b2dbd7067b.wasm?_sw-precache=b4b0d61282108a31908dd6b2dbd7067b"};class w{init(e){this.container=e,this.showButton=!1,this.phoneNumber="",this.render()}setVisibleButton(e){this.showButton=e,this.render()}render(){this.container.innerHTML=w.markup(this),window.dispatchEvent(new CustomEvent("onRender"));const e=this.container.querySelector(".login-input"),t=e.querySelector('input[type="tel"]');e&&(t.setAttribute("tel-code","+1"),t.addEventListener("input",e=>{this.phoneNumber=e.target.value}));const n=document.querySelector(".login-button");if(n){n.querySelector(".tl-button").onclick=e=>{const n=s(t.value);client.setAuthenticationPhoneNumber(n).then(e=>(console.log(client),console.log("receive result",e),e)).catch(e=>{throw console.error("catch error",e),e})}}t.addEventListener("input",e=>{i(s(e.target.value))?n.classList.remove("hide"):n.classList.add("hide")});const r=this.container.querySelector(".tl-select");if(r){const e=r.querySelector(".inner"),n=e.querySelector("input"),o=e.querySelector(".placeholder"),a=r.querySelector(".option").querySelector("ul");this.initCountryList(a,[{code:"+7 840",name:"Абхазия"},{code:"+7 940",name:"Абхазия"},{code:"+995 44",name:"Абхазия"},{code:"+672",name:"Австралийские Антарктические Территории"},{code:"+61",name:"Австралия"},{code:"+43",name:"Австрия"},{code:"+994",name:"Азербайджан"},{code:"+358 18",name:"Аландские о-ва"},{code:"+355",name:"Албания"},{code:"+213",name:"Алжир"},{code:"+1 684",name:"Американское Самоа"},{code:"+1 264",name:"Ангилья"},{code:"+244",name:"Ангола"},{code:"+376",name:"Андорра"},{code:"+1 268",name:"Антигуа и Барбуда"},{code:"+54",name:"Аргентина"},{code:"+374",name:"Армения"},{code:"+297",name:"Аруба"},{code:"+93",name:"Афганистан"},{code:"+1 242",name:"Багамские о-ва"},{code:"+880",name:"Бангладеш"},{code:"+1 246",name:"Барбадос"},{code:"+1 268",name:"Барбуда"},{code:"+973",name:"Бахрейн"},{code:"+375",name:"Беларусь"},{code:"+501",name:"Белиз"},{code:"+32",name:"Бельгия"},{code:"+229",name:"Бенин"},{code:"+1 441",name:"Бермудские о-ва"},{code:"+359",name:"Болгария"},{code:"+591",name:"Боливия"},{code:"+599 7",name:"Бонэйр, Синт-Эстатиус и Саба"},{code:"+387",name:"Босния и Герцеговина"},{code:"+267",name:"Ботсвана"},{code:"+55",name:"Бразилия"},{code:"+246",name:"Британская территория в Индийском океане"},{code:"+673",name:"Бруней-Даруссалам"},{code:"+226",name:"Буркина-Фасо"},{code:"+257",name:"Бурунди"},{code:"+975",name:"Бутан"},{code:"+678",name:"Вануату"},{code:"+39 06 698",name:"Ватикан"},{code:"+379",name:"Ватикан"},{code:"+44",name:"Великобритания"},{code:"+36",name:"Венгрия"},{code:"+58",name:"Венесуэла"},{code:"+1 284",name:"Виргинские о-ва (Британские)"},{code:"+1 340",name:"Виргинские о-ва (США)"},{code:"+670",name:"Восточный Тимор"},{code:"+84",name:"Вьетнам"},{code:"+241",name:"Габон"},{code:"+509",name:"Гаити"},{code:"+592",name:"Гайана"},{code:"+220",name:"Гамбия"},{code:"+233",name:"Гана"},{code:"+590",name:"Гваделупа"},{code:"+502",name:"Гватемала"},{code:"+224",name:"Гвинея"},{code:"+245",name:"Гвинея-Бисау"},{code:"+49",name:"Германия"},{code:"+44",name:"Гернси"},{code:"+350",name:"Гибралтар"},{code:"+504",name:"Гондурас"},{code:"+852",name:"Гонконг (особый район)"},{code:"+1 473",name:"Гренада"},{code:"+299",name:"Гренландия"},{code:"+30",name:"Греция"},{code:"+995",name:"Грузия"},{code:"+1 671",name:"Гуам"},{code:"+45",name:"Дания"},{code:"+44",name:"Джерси"},{code:"+253",name:"Джибути"},{code:"+246",name:"Диего-Гарсия"},{code:"+1 767",name:"Доминика"},{code:"+1 809",name:"Доминиканская Республика"},{code:"+1 829",name:"Доминиканская Республика"},{code:"+1 849",name:"Доминиканская Республика"},{code:"+20",name:"Египет"},{code:"+260",name:"Замбия"},{code:"+255",name:"Занзибар"},{code:"+263",name:"Зимбабве"},{code:"+972",name:"Израиль"},{code:"+91",name:"Индия"},{code:"+62",name:"Индонезия"},{code:"+962",name:"Иордания"},{code:"+964",name:"Ирак"},{code:"+98",name:"Иран"},{code:"+353",name:"Ирландия"},{code:"+354",name:"Исландия"},{code:"+34",name:"Испания"},{code:"+39",name:"Италия"},{code:"+967",name:"Йемен"},{code:"+238",name:"Кабо-Верде"},{code:"+7 6",name:"Казахстан"},{code:"+7 7",name:"Казахстан"},{code:"+1 345",name:"Каймановы о-ва"},{code:"+855",name:"Камбоджа"},{code:"+237",name:"Камерун"},{code:"+1",name:"Канада"},{code:"+974",name:"Катар"},{code:"+254",name:"Кения"},{code:"+357",name:"Кипр"},{code:"+996",name:"Киргизия"},{code:"+686",name:"Кирибати"},{code:"+86",name:"Китай"},{code:"+850",name:"КНДР"},{code:"+61",name:"Кокосовые о-ва"},{code:"+57",name:"Колумбия"},{code:"+269",name:"Коморские о-ва"},{code:"+242",name:"Конго - Браззавиль"},{code:"+243",name:"Конго - Киншаса"},{code:"+506",name:"Коста-Рика"},{code:"+225",name:"Кот-д’Ивуар"},{code:"+53",name:"Куба"},{code:"+965",name:"Кувейт"},{code:"+599 9",name:"Кюрасао"},{code:"+856",name:"Лаос"},{code:"+371",name:"Латвия"},{code:"+266",name:"Лесото"},{code:"+231",name:"Либерия"},{code:"+961",name:"Ливан"},{code:"+218",name:"Ливия"},{code:"+370",name:"Литва"},{code:"+423",name:"Лихтенштейн"},{code:"+352",name:"Люксембург"},{code:"+230",name:"Маврикий"},{code:"+222",name:"Мавритания"},{code:"+261",name:"Мадагаскар"},{code:"+262",name:"Майотта"},{code:"+853",name:"Макао (особый район)"},{code:"+389",name:"Македония"},{code:"+265",name:"Малави"},{code:"+60",name:"Малайзия"},{code:"+223",name:"Мали"},{code:"+960",name:"Мальдивские о-ва"},{code:"+356",name:"Мальта"},{code:"+212",name:"Марокко"},{code:"+596",name:"Мартиника"},{code:"+692",name:"Маршалловы о-ва"},{code:"+52",name:"Мексика"},{code:"+258",name:"Мозамбик"},{code:"+373",name:"Молдова"},{code:"+377",name:"Монако"},{code:"+976",name:"Монголия"},{code:"+1 664",name:"Монтсеррат"},{code:"+95",name:"Мьянма (Бирма)"},{code:"+264",name:"Намибия"},{code:"+674",name:"Науру"},{code:"+977",name:"Непал"},{code:"+227",name:"Нигер"},{code:"+234",name:"Нигерия"},{code:"+31",name:"Нидерланды"},{code:"+505",name:"Никарагуа"},{code:"+683",name:"Ниуэ"},{code:"+64",name:"Новая Зеландия"},{code:"+687",name:"Новая Каледония"},{code:"+47",name:"Норвегия"},{code:"+672",name:"о-в Норфолк"},{code:"+61",name:"о-в Рождества"},{code:"+290",name:"О-в Св. Елены"},{code:"+682",name:"о-ва Кука"},{code:"+1 649",name:"О-ва Тёркс и Кайкос"},{code:"+971",name:"ОАЭ"},{code:"+968",name:"Оман"},{code:"+247",name:"Остров Вознесения"},{code:"+92",name:"Пакистан"},{code:"+680",name:"Палау"},{code:"+970",name:"Палестинские территории"},{code:"+507",name:"Панама"},{code:"+675",name:"Папуа – Новая Гвинея"},{code:"+595",name:"Парагвай"},{code:"+51",name:"Перу"},{code:"+64",name:"Питкэрн"},{code:"+48",name:"Польша"},{code:"+351",name:"Португалия"},{code:"+1 787",name:"Пуэрто-Рико"},{code:"+1 939",name:"Пуэрто-Рико"},{code:"+82",name:"Республика Корея"},{code:"+262",name:"Реюньон"},{code:"+7",name:"Россия"},{code:"+250",name:"Руанда"},{code:"+40",name:"Румыния"},{code:"+503",name:"Сальвадор"},{code:"+685",name:"Самоа"},{code:"+378",name:"Сан-Марино"},{code:"+239",name:"Сан-Томе и Принсипи"},{code:"+966",name:"Саудовская Аравия"},{code:"+268",name:"Свазиленд"},{code:"+1 670",name:"Северные Марианские о-ва"},{code:"+248",name:"Сейшельские о-ва"},{code:"+590",name:"Сен-Бартельми"},{code:"+590",name:"Сен-Мартен (Франция)"},{code:"+508",name:"Сен-Пьер и Микелон"},{code:"+221",name:"Сенегал"},{code:"+1 784",name:"Сент-Винсент и Гренадины"},{code:"+1 869",name:"Сент-Китс и Невис"},{code:"+1 758",name:"Сент-Люсия"},{code:"+381",name:"Сербия"},{code:"+65",name:"Сингапур"},{code:"+1 721",name:"Синт-Мартен"},{code:"+599 3",name:"Синт-Эстатиус"},{code:"+963",name:"Сирия"},{code:"+421",name:"Словакия"},{code:"+386",name:"Словения"},{code:"+1",name:"Соединенные Штаты"},{code:"+677",name:"Соломоновы о-ва"},{code:"+252",name:"Сомали"},{code:"+249",name:"Судан"},{code:"+597",name:"Суринам"},{code:"+232",name:"Сьерра-Леоне"},{code:"+992",name:"Таджикистан"},{code:"+66",name:"Таиланд"},{code:"+886",name:"Тайвань"},{code:"+255",name:"Танзания"},{code:"+228",name:"Того"},{code:"+690",name:"Токелау"},{code:"+676",name:"Тонга"},{code:"+1 868",name:"Тринидад и Тобаго"},{code:"+688",name:"Тувалу"},{code:"+216",name:"Тунис"},{code:"+993",name:"Туркменистан"},{code:"+90",name:"Турция"},{code:"+256",name:"Уганда"},{code:"+998",name:"Узбекистан"},{code:"+380",name:"Украина"},{code:"+681",name:"Уоллис и Футуна"},{code:"+598",name:"Уругвай"},{code:"+298",name:"Фарерские о-ва"},{code:"+691",name:"Федеративные Штаты Микронезии"},{code:"+679",name:"Фиджи"},{code:"+63",name:"Филиппины"},{code:"+358",name:"Финляндия"},{code:"+500",name:"Фолклендские о-ва"},{code:"+33",name:"Франция"},{code:"+594",name:"Французская Гвиана"},{code:"+689",name:"Французская Полинезия"},{code:"+385",name:"Хорватия"},{code:"+236",name:"ЦАР"},{code:"+235",name:"Чад"},{code:"+382",name:"Черногория"},{code:"+420",name:"Чехия"},{code:"+56",name:"Чили"},{code:"+41",name:"Швейцария"},{code:"+46",name:"Швеция"},{code:"+47 79",name:"Шпицберген"},{code:"+47 79",name:"Шпицберген и Ян-Майен"},{code:"+94",name:"Шри-Ланка"},{code:"+593",name:"Эквадор"},{code:"+240",name:"Экваториальная Гвинея"},{code:"+291",name:"Эритрея"},{code:"+372",name:"Эстония"},{code:"+251",name:"Эфиопия"},{code:"+27",name:"ЮАР"},{code:"+500",name:"Южная Георгия и Южные Сандвичевы о-ва"},{code:"+995 34",name:"Южная Осетия"},{code:"+211",name:"Южный Судан"},{code:"+1 876",name:"Ямайка"},{code:"+81",name:"Япония"}]),a.querySelectorAll(".item").forEach(r=>{r.onmouseover=e=>{const t=e.target.querySelector(".name");o&&(o.textContent=t.textContent)},r.onmouseout=e=>{o&&(o.textContent="Country")},r.onclick=r=>{const a=r.target.querySelector(".name"),i=r.target.querySelector(".code");o&&(o.textContent="Country"),n.value=a.textContent,e.classList.remove("empty");const s=i.textContent;t.value=s,t.setAttribute("tel-code",s),t.parentElement.classList.remove("empty")}})}}initCountryList(e,t){t.forEach(t=>{const n=document.createElement("li"),r=document.createElement("div"),o=document.createElement("div");n.classList.add("item"),o.textContent=t.name,o.classList.add("name"),r.textContent=t.code,r.classList.add("code"),n.appendChild(o),n.appendChild(r),e.appendChild(n)})}static markup({phoneNumber:e}){return`\n      <section class="login-section">\n        <div class="login-container">\n          <img class="login-logo" src="./assets/img/logo.png" alt="Telegram">\n          <h2 class="login-title">Sign in to Telegram</h2>\n          <p class="login-text">Please confirm your country and enter your phone number</p>\n          <div class="tl-select login-select">\n            <div class="inner tl-input empty">\n              <input type="text" readonly>\n              <label class="placeholder">Country</label>\n            </div>\n            <div class="option">\n              <ul></ul>\n            </div>\n          </div>\n\t\t\t\t\t<div class="tl-input login-input empty">\n            <input type="tel" value="${e}">\n            <label class="placeholder">Phone Number</label>\n          </div>\n          <label class="tl-checkbox login-checkbox">\n            Keep me signed in\n            <input type="checkbox">\n            <span class="checkmark"></span>\n          </label>\n          <div class="login-button hide">\n            <a href="#confirm-code" class="tl-button tl-full-button">Next</a>\n          </div>\n        </div>\n      </section>\n    `}constructor(e){this.init(e)}}const b={routes:new class{constructor(){this.route={login:{rendered:e=>{new w(e);this.preventScroll()}},"confirm-code":{rendered:e=>{new r(e),this.preventScroll()}},"the-default-view":{rendered:e=>{console.log('view currently showing is "the-default-view"'),this.preventScroll()}}}}preventScroll(){document.querySelector("html").scrollTop=0,document.querySelector("body").scrollTop=0}},default:"the-default-view",routeChange:()=>{b.routeID=location.hash.slice(1),b.route=b.routes.route[b.routeID],b.routeElem=document.getElementById(b.routeID),b.route.rendered(document.querySelector("main"))},init:function(){window.addEventListener("hashchange",(function(){b.routeChange()})),window.location.hash?b.routeChange():window.location.hash=b.default}};window.app=b,b.init();const k=new class{constructor(){this.client=new u.a(g),this.config=d}send(e){return this.client.send(e)}checkDatabaseEncryptionKey(){this.send({"@type":"checkDatabaseEncryptionKey"})}setTdlibParameters(){this.send({"@type":"setTdlibParameters",parameters:{"@type":"tdParameters",use_test_dc:!1,api_id:d.id,api_hash:d.hash,system_language_code:navigator.language||"en",device_model:a(),system_version:o(),application_version:"1.0.0",use_secret_chats:!1,use_message_database:!0,use_file_database:!1,database_directory:"/db",files_directory:"/"}})}setAuthenticationPhoneNumber(e){if(i(e))return this.send({"@type":"setAuthenticationPhoneNumber",phone_number:e});console.error(`Telephone number ${e} is not valid`)}};function x(){function e(e){"tel"==e.target.type&&e.target.getAttribute("tel-code")&&function(e){let t=`${e.target.getAttribute("tel-code")} ____________________`,n=0,r=t.replace(/\D/g,""),o=e.target.value.replace(/\D/g,"");r.length>=o.length&&(o=r),e.target.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<o.length?o.charAt(n++):n>=o.length?"":e})),"blur"==e.type||function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}}(e.target.value.length,e.target)}(e),"focus"==e.type&&e.target.parentElement.classList.add("focused"),"blur"==e.type&&e.target.parentElement.classList.remove("focused"),""!=e.target.value?e.target.parentElement.classList.remove("empty"):e.target.parentElement.classList.add("empty")}console.log("hashchange init form"),document.querySelectorAll(".tl-input input").forEach(t=>{t.addEventListener("input",t=>e(t),!1),t.addEventListener("focus",t=>e(t),!1),t.addEventListener("blur",t=>e(t),!1),t.value&&(t.focus(),t.blur())});const t=document.querySelector(".tl-select");if(t){const e=t.querySelector(".inner").querySelector("input");t.querySelector(".option").querySelector("ul");e.onfocus=()=>{t.classList.toggle("show")},e.onblur=()=>{t.classList.toggle("show")}}}k.setTdlibParameters(),k.checkDatabaseEncryptionKey(),window.client=k,window.addEventListener("hashchange",x),window.addEventListener("DOMContentLoaded",x),window.addEventListener("onRender",x);class _{init(e){this.container=e,this.render()}render(){this.container.innerHTML=_.markup(this),this.addEventListeners()}static markup(){return'\n      <div class="login-button">\n        <button class="tl-full-button">Next</button>\n      </div>\n    '}addEventListeners(){}constructor(e){if(void 0!==e.dataset.ref)return _.refs[e.dataset.ref];this.ref=Math.random(),_.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e)}}_.refs={};n(1)}]);